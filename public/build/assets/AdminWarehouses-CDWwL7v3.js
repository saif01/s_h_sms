import{_ as I,d as c,w as a,a as s,r as d,b as t,t as m,f as u,o as r,i as z,c as v,e as f,F as B,h as N}from"./app-CHfYI-xI.js";import{c as j}from"./commonMixin-BwIVv23E.js";import{P as O,p as A,d as U}from"./PaginationControls-6l2F_IVt.js";import{f as T}from"./formatters-DzU97YYy.js";const q={name:"WarehouseDialog",props:{modelValue:{type:Boolean,default:!1},warehouse:{type:Object,default:null},saving:{type:Boolean,default:!1}},emits:["update:modelValue","save"],data(){return{formValid:!1,localForm:this.getEmptyForm(),rules:{required:l=>!!l||"Required"}}},computed:{isEdit(){return!!this.localForm.id}},watch:{modelValue(l){l&&(this.warehouse?this.localForm={...this.warehouse}:this.localForm=this.getEmptyForm())},warehouse:{handler(l){l&&this.modelValue&&(this.localForm={...l})},deep:!0}},methods:{getEmptyForm(){return{id:null,name:"",code:"",phone:"",email:"",address:"",city:"",state:"",postal_code:"",country:"",is_active:!0}},async handleSave(){(await this.$refs.formRef.validate()).valid&&this.$emit("save",{...this.localForm})}}},L={class:"text-h6"};function R(l,e,w,D,n,o){const p=d("v-btn"),W=d("v-card-title"),P=d("v-divider"),h=d("v-text-field"),y=d("v-col"),C=d("v-switch"),_=d("v-textarea"),g=d("v-row"),b=d("v-form"),V=d("v-card-text"),k=d("v-spacer"),F=d("v-card-actions"),S=d("v-card"),x=d("v-dialog");return r(),c(x,{"model-value":w.modelValue,"onUpdate:modelValue":e[13]||(e[13]=i=>l.$emit("update:modelValue",i)),"max-width":"600px",persistent:""},{default:a(()=>[s(S,null,{default:a(()=>[s(W,{class:"pa-3 d-flex justify-space-between align-center"},{default:a(()=>[t("span",L,m(o.isEdit?"Edit Warehouse":"Add Warehouse"),1),s(p,{icon:"mdi-close",variant:"text",size:"small",onClick:e[0]||(e[0]=i=>l.$emit("update:modelValue",!1))})]),_:1}),s(P),s(V,{class:"pa-3"},{default:a(()=>[s(b,{ref:"formRef",modelValue:n.formValid,"onUpdate:modelValue":e[11]||(e[11]=i=>n.formValid=i)},{default:a(()=>[s(g,{dense:"",class:"ma-0"},{default:a(()=>[s(y,{cols:"12",sm:"8",class:"pa-2"},{default:a(()=>[s(h,{modelValue:n.localForm.name,"onUpdate:modelValue":e[1]||(e[1]=i=>n.localForm.name=i),label:"Warehouse Name *",density:"compact",variant:"outlined","hide-details":"auto",rules:[n.rules.required]},null,8,["modelValue","rules"])]),_:1}),s(y,{cols:"12",sm:"4",class:"pa-2"},{default:a(()=>[s(C,{modelValue:n.localForm.is_active,"onUpdate:modelValue":e[2]||(e[2]=i=>n.localForm.is_active=i),label:"Active",color:"primary",density:"compact","hide-details":"",class:"mt-2"},null,8,["modelValue"])]),_:1}),s(y,{cols:"12",class:"pa-2"},{default:a(()=>[s(h,{modelValue:n.localForm.code,"onUpdate:modelValue":e[3]||(e[3]=i=>n.localForm.code=i),label:"Warehouse Code",density:"compact",variant:"outlined","hide-details":"auto",hint:"Unique identifier","persistent-hint":""},null,8,["modelValue"])]),_:1}),s(y,{cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[s(h,{modelValue:n.localForm.phone,"onUpdate:modelValue":e[4]||(e[4]=i=>n.localForm.phone=i),label:"Phone",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(y,{cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[s(h,{modelValue:n.localForm.email,"onUpdate:modelValue":e[5]||(e[5]=i=>n.localForm.email=i),label:"Email",type:"email",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(y,{cols:"12",class:"pa-2"},{default:a(()=>[s(_,{modelValue:n.localForm.address,"onUpdate:modelValue":e[6]||(e[6]=i=>n.localForm.address=i),label:"Address",density:"compact",variant:"outlined",rows:"2","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(y,{cols:"12",sm:"4",class:"pa-2"},{default:a(()=>[s(h,{modelValue:n.localForm.city,"onUpdate:modelValue":e[7]||(e[7]=i=>n.localForm.city=i),label:"City",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(y,{cols:"12",sm:"4",class:"pa-2"},{default:a(()=>[s(h,{modelValue:n.localForm.state,"onUpdate:modelValue":e[8]||(e[8]=i=>n.localForm.state=i),label:"State/Province",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(y,{cols:"12",sm:"4",class:"pa-2"},{default:a(()=>[s(h,{modelValue:n.localForm.postal_code,"onUpdate:modelValue":e[9]||(e[9]=i=>n.localForm.postal_code=i),label:"Postal Code",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(y,{cols:"12",class:"pa-2"},{default:a(()=>[s(h,{modelValue:n.localForm.country,"onUpdate:modelValue":e[10]||(e[10]=i=>n.localForm.country=i),label:"Country",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(P),s(F,{class:"pa-3"},{default:a(()=>[s(k),s(p,{variant:"text",density:"compact",onClick:e[12]||(e[12]=i=>l.$emit("update:modelValue",!1))},{default:a(()=>e[14]||(e[14]=[u("Cancel")])),_:1,__:[14]}),s(p,{color:"primary",loading:w.saving,density:"compact",onClick:o.handleSave},{default:a(()=>[u(m(o.isEdit?"Update":"Save"),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const M=I(q,[["render",R]]),Y={name:"WarehouseViewDialog",props:{modelValue:{type:Boolean,default:!1},warehouse:{type:Object,default:null}},emits:["update:modelValue"],data(){return{loading:!1,warehouseData:null}},computed:{displayWarehouse(){return this.warehouseData||this.warehouse},hasAddressInfo(){return this.displayWarehouse?!!(this.displayWarehouse.address||this.displayWarehouse.city||this.displayWarehouse.state||this.displayWarehouse.postal_code||this.displayWarehouse.country):!1},hasSystemInfo(){return this.displayWarehouse?!!(this.displayWarehouse.created_at||this.displayWarehouse.updated_at||this.displayWarehouse.created_by||this.displayWarehouse.updated_by):!1}},watch:{modelValue(l){l&&this.warehouse&&this.warehouse.id?this.loadWarehouseDetails():this.warehouseData=null},warehouse:{immediate:!0,handler(l){l&&l.id&&this.modelValue?this.loadWarehouseDetails():this.warehouseData=null}}},methods:{async loadWarehouseDetails(){var l,e;if((l=this.warehouse)!=null&&l.id){this.loading=!0;try{const w=localStorage.getItem("admin_token"),D=await z.get(`/api/v1/warehouses/${this.warehouse.id}`,{headers:{Authorization:`Bearer ${w}`}});this.warehouseData=D.data.warehouse||D.data}catch(w){console.error("Failed to load warehouse details",w),(e=this.$toast)==null||e.error("Failed to load warehouse details")}finally{this.loading=!1}}},formatDateShort:T,close(){this.$emit("update:modelValue",!1)}}},G={class:"d-flex align-center gap-2"},H={key:0,class:"text-center py-8"},J={key:1,class:"text-center py-8"},K={key:2},Q={class:"text-subtitle-2 font-weight-medium mb-2 d-flex align-center"},X={class:"info-item-compact"},Z={class:"text-body-2 font-weight-medium ml-1"},$={class:"info-item-compact"},ee={class:"info-item-compact"},te={class:"text-body-2 font-weight-medium ml-1"},se={class:"info-item-compact"},ae={class:"text-body-2 font-weight-medium ml-1"},le={class:"text-subtitle-2 font-weight-medium mb-2 d-flex align-center"},oe={class:"info-item-compact"},ie={class:"text-body-2 ml-1"},ne={class:"info-item-compact"},de={class:"text-body-2 ml-1"},re={class:"text-subtitle-2 font-weight-medium mb-2 d-flex align-center"},ue={class:"info-item-compact"},me={class:"text-body-2 ml-1"},ce={class:"info-item-compact"},pe={class:"text-body-2 ml-1"},_e={class:"info-item-compact"},fe={class:"text-body-2 ml-1"},he={class:"info-item-compact"},ye={class:"text-body-2 ml-1"},ve={class:"info-item-compact"},ge={class:"text-body-2 ml-1"},we={class:"text-subtitle-2 font-weight-medium mb-2 d-flex align-center"},xe={class:"info-item-compact"},We={class:"text-body-2 ml-1"},be={class:"info-item-compact"},Ve={class:"text-body-2 ml-1"},ke={class:"info-item-compact"},Pe={class:"text-body-2 ml-1"},Ce={class:"info-item-compact"},De={class:"text-body-2 ml-1"};function Fe(l,e,w,D,n,o){const p=d("v-icon"),W=d("v-btn"),P=d("v-card-title"),h=d("v-divider"),y=d("v-progress-circular"),C=d("v-alert"),_=d("v-col"),g=d("v-chip"),b=d("v-row"),V=d("v-card-text"),k=d("v-card"),F=d("v-card-actions"),S=d("v-dialog");return r(),c(S,{"model-value":w.modelValue,"onUpdate:modelValue":e[0]||(e[0]=x=>l.$emit("update:modelValue",x)),"max-width":"700px",persistent:"",scrollable:""},{default:a(()=>[s(k,{class:"warehouse-view-dialog"},{default:a(()=>[s(P,{class:"dialog-header d-flex justify-space-between align-center pa-3"},{default:a(()=>[t("div",G,[s(p,{color:"primary"},{default:a(()=>e[1]||(e[1]=[u("mdi-warehouse")])),_:1,__:[1]}),e[2]||(e[2]=t("span",{class:"text-h6 font-weight-medium"},"Warehouse Details",-1))]),s(W,{icon:"mdi-close",variant:"text",size:"small",onClick:o.close},null,8,["onClick"])]),_:1}),s(h),s(V,{class:"pa-3"},{default:a(()=>[n.loading?(r(),v("div",H,[s(y,{indeterminate:"",color:"primary",size:"48"}),e[3]||(e[3]=t("div",{class:"mt-3 text-body-2"},"Loading warehouse details...",-1))])):o.displayWarehouse?(r(),v("div",K,[t("div",Q,[s(p,{size:"small",class:"mr-1"},{default:a(()=>e[5]||(e[5]=[u("mdi-information")])),_:1,__:[5]}),e[6]||(e[6]=u(" Basic Information "))]),s(k,{variant:"outlined",class:"mb-3"},{default:a(()=>[s(V,{class:"pa-3"},{default:a(()=>[s(b,{dense:"",class:"ma-0"},{default:a(()=>[s(_,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",X,[e[7]||(e[7]=t("span",{class:"text-caption text-grey"},"ID:",-1)),t("span",Z,m(o.displayWarehouse.id||"-"),1)])]),_:1}),s(_,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",$,[e[8]||(e[8]=t("span",{class:"text-caption text-grey"},"Status:",-1)),s(g,{size:"x-small",color:o.displayWarehouse.is_active?"success":"error",variant:"tonal",class:"ml-1"},{default:a(()=>[u(m(o.displayWarehouse.is_active?"Active":"Inactive"),1)]),_:1},8,["color"])])]),_:1}),o.displayWarehouse.code?(r(),c(_,{key:0,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",ee,[e[9]||(e[9]=t("span",{class:"text-caption text-grey"},"Code:",-1)),t("span",te,m(o.displayWarehouse.code),1)])]),_:1})):f("",!0),s(_,{cols:"12",class:"pa-2"},{default:a(()=>[t("div",se,[e[10]||(e[10]=t("span",{class:"text-caption text-grey"},"Name:",-1)),t("span",ae,m(o.displayWarehouse.name||"-"),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",le,[s(p,{size:"small",class:"mr-1"},{default:a(()=>e[11]||(e[11]=[u("mdi-phone")])),_:1,__:[11]}),e[12]||(e[12]=u(" Contact Information "))]),s(k,{variant:"outlined",class:"mb-3"},{default:a(()=>[s(V,{class:"pa-3"},{default:a(()=>[s(b,{dense:"",class:"ma-0"},{default:a(()=>[o.displayWarehouse.phone?(r(),c(_,{key:0,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[t("div",oe,[s(p,{size:"small",color:"primary",class:"mr-1"},{default:a(()=>e[13]||(e[13]=[u("mdi-phone")])),_:1,__:[13]}),e[14]||(e[14]=t("span",{class:"text-caption text-grey"},"Phone:",-1)),t("span",ie,m(o.displayWarehouse.phone),1)])]),_:1})):f("",!0),o.displayWarehouse.email?(r(),c(_,{key:1,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[t("div",ne,[s(p,{size:"small",color:"primary",class:"mr-1"},{default:a(()=>e[15]||(e[15]=[u("mdi-email")])),_:1,__:[15]}),e[16]||(e[16]=t("span",{class:"text-caption text-grey"},"Email:",-1)),t("span",de,m(o.displayWarehouse.email),1)])]),_:1})):f("",!0),!o.displayWarehouse.phone&&!o.displayWarehouse.email?(r(),c(_,{key:2,cols:"12",class:"pa-2"},{default:a(()=>e[17]||(e[17]=[t("div",{class:"text-body-2 text-grey"},"No contact information available",-1)])),_:1,__:[17]})):f("",!0)]),_:1})]),_:1})]),_:1}),t("div",re,[s(p,{size:"small",class:"mr-1"},{default:a(()=>e[18]||(e[18]=[u("mdi-map-marker")])),_:1,__:[18]}),e[19]||(e[19]=u(" Address Information "))]),s(k,{variant:"outlined",class:"mb-3"},{default:a(()=>[s(V,{class:"pa-3"},{default:a(()=>[s(b,{dense:"",class:"ma-0"},{default:a(()=>[o.displayWarehouse.address?(r(),c(_,{key:0,cols:"12",class:"pa-2"},{default:a(()=>[t("div",ue,[s(p,{size:"small",color:"primary",class:"mr-1"},{default:a(()=>e[20]||(e[20]=[u("mdi-home")])),_:1,__:[20]}),e[21]||(e[21]=t("span",{class:"text-caption text-grey"},"Address:",-1)),t("span",me,m(o.displayWarehouse.address),1)])]),_:1})):f("",!0),o.displayWarehouse.city?(r(),c(_,{key:1,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",ce,[e[22]||(e[22]=t("span",{class:"text-caption text-grey"},"City:",-1)),t("span",pe,m(o.displayWarehouse.city),1)])]),_:1})):f("",!0),o.displayWarehouse.state?(r(),c(_,{key:2,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",_e,[e[23]||(e[23]=t("span",{class:"text-caption text-grey"},"State/Province:",-1)),t("span",fe,m(o.displayWarehouse.state),1)])]),_:1})):f("",!0),o.displayWarehouse.postal_code?(r(),c(_,{key:3,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",he,[e[24]||(e[24]=t("span",{class:"text-caption text-grey"},"Postal Code:",-1)),t("span",ye,m(o.displayWarehouse.postal_code),1)])]),_:1})):f("",!0),o.displayWarehouse.country?(r(),c(_,{key:4,cols:"12",class:"pa-2"},{default:a(()=>[t("div",ve,[s(p,{size:"small",color:"primary",class:"mr-1"},{default:a(()=>e[25]||(e[25]=[u("mdi-earth")])),_:1,__:[25]}),e[26]||(e[26]=t("span",{class:"text-caption text-grey"},"Country:",-1)),t("span",ge,m(o.displayWarehouse.country),1)])]),_:1})):f("",!0),o.hasAddressInfo?f("",!0):(r(),c(_,{key:5,cols:"12",class:"pa-2"},{default:a(()=>e[27]||(e[27]=[t("div",{class:"text-body-2 text-grey"},"No address information available",-1)])),_:1,__:[27]}))]),_:1})]),_:1})]),_:1}),o.hasSystemInfo?(r(),v(B,{key:0},[s(h,{class:"my-2"}),t("div",we,[s(p,{size:"small",class:"mr-1"},{default:a(()=>e[28]||(e[28]=[u("mdi-clock-outline")])),_:1,__:[28]}),e[29]||(e[29]=u(" System Information "))]),s(k,{variant:"outlined",class:"mb-2"},{default:a(()=>[s(V,{class:"pa-3"},{default:a(()=>[s(b,{dense:"",class:"ma-0"},{default:a(()=>[o.displayWarehouse.created_by?(r(),c(_,{key:0,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>{var x;return[t("div",xe,[e[30]||(e[30]=t("span",{class:"text-caption text-grey"},"Created By:",-1)),t("span",We,m(((x=o.displayWarehouse.created_by)==null?void 0:x.name)||"-"),1)])]}),_:1})):f("",!0),o.displayWarehouse.created_at?(r(),c(_,{key:1,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[t("div",be,[e[31]||(e[31]=t("span",{class:"text-caption text-grey"},"Created At:",-1)),t("span",Ve,m(o.formatDateShort(o.displayWarehouse.created_at)||"-"),1)])]),_:1})):f("",!0),o.displayWarehouse.updated_by?(r(),c(_,{key:2,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>{var x;return[t("div",ke,[e[32]||(e[32]=t("span",{class:"text-caption text-grey"},"Updated By:",-1)),t("span",Pe,m(((x=o.displayWarehouse.updated_by)==null?void 0:x.name)||"-"),1)])]}),_:1})):f("",!0),o.displayWarehouse.updated_at?(r(),c(_,{key:3,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[t("div",Ce,[e[33]||(e[33]=t("span",{class:"text-caption text-grey"},"Updated At:",-1)),t("span",De,m(o.formatDateShort(o.displayWarehouse.updated_at)||"-"),1)])]),_:1})):f("",!0)]),_:1})]),_:1})]),_:1})],64)):f("",!0)])):(r(),v("div",J,[s(C,{type:"error",variant:"tonal",class:"ma-3",density:"compact"},{default:a(()=>e[4]||(e[4]=[u(" Failed to load warehouse details ")])),_:1,__:[4]})]))]),_:1}),s(h),s(F,{class:"pa-2 justify-end"},{default:a(()=>[s(W,{variant:"text",size:"small",onClick:o.close},{default:a(()=>e[34]||(e[34]=[u("Close")])),_:1,__:[34]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const Se=I(Y,[["render",Fe],["__scopeId","data-v-8cfeeb09"]]),ze={name:"AdminWarehouses",components:{PaginationControls:O,WarehouseDialog:M,WarehouseViewDialog:Se},mixins:[j],data(){return{warehouses:[],dialog:!1,viewDialog:!1,saving:!1,selectedWarehouse:null,currentPage:U.currentPage,perPage:U.perPage,perPageOptions:U.perPageOptions,pagination:{...U.pagination}}},async mounted(){await this.loadWarehouses()},methods:{async loadWarehouses(){try{this.loading=!0;const l=this.buildPaginationParams();this.perPage==="all"&&(l.per_page=999999),this.search&&(l.search=this.search);const e=await z.get("/api/v1/warehouses",{params:l});this.warehouses=e.data.data||[],this.updatePagination(e.data)}catch(l){this.handleApiError(l,"Failed to load warehouses")}finally{this.loading=!1}},openDialog(){this.selectedWarehouse=null,this.dialog=!0},editWarehouse(l){this.selectedWarehouse=l,this.dialog=!0},viewWarehouse(l){this.selectedWarehouse=l,this.viewDialog=!0},async handleSave(l){this.saving=!0;try{l.id?(await z.put(`/api/v1/warehouses/${l.id}`,l),this.showSuccess("Warehouse updated successfully")):(await z.post("/api/v1/warehouses",l),this.showSuccess("Warehouse created successfully")),this.dialog=!1,this.selectedWarehouse=null,await this.loadWarehouses()}catch(e){this.handleApiError(e,"Failed to save warehouse")}finally{this.saving=!1}},async confirmDelete(l){if((await window.Swal.fire({title:"Are you sure?",text:`Do you want to delete "${l.name}"? This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",reverseButtons:!0})).isConfirmed)try{await z.delete(`/api/v1/warehouses/${l.id}`),await window.Swal.fire({icon:"success",title:"Deleted!",text:"Warehouse has been deleted successfully.",timer:2e3,showConfirmButton:!1}),await this.loadWarehouses()}catch(w){this.handleApiError(w,"Failed to delete warehouse")}},buildPaginationParams(l={}){return A.buildPaginationParams(this.currentPage,this.perPage,l,this.sortBy,this.sortDirection)},updatePagination(l){A.updatePagination(this,l)},resetPagination(){A.resetPagination(this)},onPerPageChange(){this.resetPagination(),this.loadWarehouses()},onPerPageUpdate(l){this.perPage=l,this.onPerPageChange()},onPageChange(l){this.currentPage=l,this.loadWarehouses()},onSort(l){this.handleSort(l),this.currentPage=1,this.loadWarehouses()},onSearch(){this.resetPagination(),this.loadWarehouses()}}},Ue={class:"d-flex align-center gap-2"},Be={class:"text-caption text-grey"},Ae={class:"sortable-header"},Ie={class:"sortable-header"},Ee={class:"sortable-header"},Ne={class:"sortable-header"},je={class:"d-flex"},Oe={key:1,class:"text-caption text-grey"},Te={key:0},qe={class:"d-flex flex-column flex-md-row justify-space-between align-center align-md-start gap-3 mt-4"},Le={class:"text-caption text-grey"},Re={key:0},Me={key:0},Ye={key:1},Ge={key:1};function He(l,e,w,D,n,o){const p=d("v-icon"),W=d("v-btn"),P=d("v-card-title"),h=d("v-divider"),y=d("v-text-field"),C=d("v-card-text"),_=d("v-card"),g=d("v-skeleton-loader"),b=d("v-chip"),V=d("v-table"),k=d("PaginationControls"),F=d("WarehouseDialog"),S=d("WarehouseViewDialog"),x=d("v-container");return r(),c(x,{fluid:""},{default:a(()=>[s(_,null,{default:a(()=>[s(P,{class:"d-flex justify-space-between align-center"},{default:a(()=>[t("div",Ue,[s(p,null,{default:a(()=>e[8]||(e[8]=[u("mdi-warehouse")])),_:1,__:[8]}),e[9]||(e[9]=t("span",{class:"text-h5"},"Warehouses",-1))]),s(W,{color:"primary","prepend-icon":"mdi-plus",onClick:o.openDialog},{default:a(()=>e[10]||(e[10]=[u("Add Warehouse")])),_:1,__:[10]},8,["onClick"])]),_:1}),s(h),s(C,null,{default:a(()=>[s(y,{modelValue:l.search,"onUpdate:modelValue":e[0]||(e[0]=i=>l.search=i),label:"Search Warehouses","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"",onInput:o.onSearch},null,8,["modelValue","onInput"])]),_:1})]),_:1}),s(_,null,{default:a(()=>[s(P,{class:"d-flex justify-space-between align-center"},{default:a(()=>[e[12]||(e[12]=t("span",null,"Warehouses",-1)),t("span",Be,[e[11]||(e[11]=u(" Total Records: ")),t("strong",null,m(n.pagination.total||0),1)])]),_:1,__:[12]}),s(C,null,{default:a(()=>[s(V,null,{default:a(()=>[t("thead",null,[t("tr",null,[t("th",{class:"sortable",onClick:e[1]||(e[1]=i=>o.onSort("name"))},[t("div",Ae,[e[14]||(e[14]=t("span",null,"Name",-1)),l.sortBy==="name"?(r(),c(p,{key:0,size:"18",class:"sort-icon active"},{default:a(()=>[u(m(l.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(r(),c(p,{key:1,size:"18",class:"sort-icon inactive"},{default:a(()=>e[13]||(e[13]=[u(" mdi-unfold-more-horizontal ")])),_:1,__:[13]}))])]),t("th",{class:"sortable",onClick:e[2]||(e[2]=i=>o.onSort("code"))},[t("div",Ie,[e[16]||(e[16]=t("span",null,"Code",-1)),l.sortBy==="code"?(r(),c(p,{key:0,size:"18",class:"sort-icon active"},{default:a(()=>[u(m(l.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(r(),c(p,{key:1,size:"18",class:"sort-icon inactive"},{default:a(()=>e[15]||(e[15]=[u(" mdi-unfold-more-horizontal ")])),_:1,__:[15]}))])]),t("th",{class:"sortable",onClick:e[3]||(e[3]=i=>o.onSort("city"))},[t("div",Ee,[e[18]||(e[18]=t("span",null,"City",-1)),l.sortBy==="city"?(r(),c(p,{key:0,size:"18",class:"sort-icon active"},{default:a(()=>[u(m(l.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(r(),c(p,{key:1,size:"18",class:"sort-icon inactive"},{default:a(()=>e[17]||(e[17]=[u(" mdi-unfold-more-horizontal ")])),_:1,__:[17]}))])]),e[21]||(e[21]=t("th",null,"Phone",-1)),e[22]||(e[22]=t("th",null,"Status",-1)),t("th",{class:"sortable",onClick:e[4]||(e[4]=i=>o.onSort("created_at"))},[t("div",Ne,[e[20]||(e[20]=t("span",null,"Created",-1)),l.sortBy==="created_at"?(r(),c(p,{key:0,size:"18",class:"sort-icon active"},{default:a(()=>[u(m(l.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(r(),c(p,{key:1,size:"18",class:"sort-icon inactive"},{default:a(()=>e[19]||(e[19]=[u(" mdi-unfold-more-horizontal ")])),_:1,__:[19]}))])]),e[23]||(e[23]=t("th",null,"Actions",-1))])]),t("tbody",null,[l.loading?(r(),v(B,{key:0},N(5,i=>t("tr",{key:`skeleton-${i}`},[t("td",null,[s(g,{type:"text",width:"150"})]),t("td",null,[s(g,{type:"text",width:"120"})]),t("td",null,[s(g,{type:"text",width:"100"})]),t("td",null,[s(g,{type:"text",width:"100"})]),t("td",null,[s(g,{type:"chip",width:"80",height:"24"})]),t("td",null,[s(g,{type:"text",width:"100"})]),t("td",null,[t("div",je,[s(g,{type:"button",width:"32",height:"32",class:"mr-1"}),s(g,{type:"button",width:"32",height:"32",class:"mr-1"}),s(g,{type:"button",width:"32",height:"32"})])])])),64)):(r(),v(B,{key:1},[(r(!0),v(B,null,N(n.warehouses,i=>(r(),v("tr",{key:i.id},[t("td",null,m(i.name),1),t("td",null,[i.code?(r(),c(b,{key:0,size:"small",variant:"outlined"},{default:a(()=>[u(m(i.code),1)]),_:2},1024)):(r(),v("span",Oe,"-"))]),t("td",null,m(i.city||"-"),1),t("td",null,m(i.phone||"-"),1),t("td",null,[s(b,{color:i.is_active?"success":"error",size:"small"},{default:a(()=>[u(m(i.is_active?"Active":"Inactive"),1)]),_:2},1032,["color"])]),t("td",null,m(l.formatDate(i.created_at)),1),t("td",null,[s(W,{size:"small",icon:"mdi-eye",onClick:E=>o.viewWarehouse(i),variant:"text",color:"info",title:"View Warehouse Details"},null,8,["onClick"]),s(W,{size:"small",icon:"mdi-pencil",onClick:E=>o.editWarehouse(i),variant:"text",title:"Edit Warehouse"},null,8,["onClick"]),s(W,{size:"small",icon:"mdi-delete",onClick:E=>o.confirmDelete(i),variant:"text",color:"error",title:"Delete Warehouse"},null,8,["onClick"])])]))),128)),n.warehouses.length===0?(r(),v("tr",Te,e[24]||(e[24]=[t("td",{colspan:"7",class:"text-center py-4"},"No warehouses found",-1)]))):f("",!0)],64))])]),_:1}),t("div",qe,[t("div",Le,[n.warehouses.length>0&&n.pagination.total>0?(r(),v("span",Re,[n.perPage==="all"?(r(),v("span",Me,[e[25]||(e[25]=u(" Showing ")),t("strong",null,"all "+m(n.pagination.total.toLocaleString()),1),e[26]||(e[26]=u(" records "))])):(r(),v("span",Ye,[e[27]||(e[27]=u(" Showing ")),t("strong",null,m((n.currentPage-1)*n.perPage+1),1),e[28]||(e[28]=u(" to ")),t("strong",null,m(Math.min(n.currentPage*n.perPage,n.pagination.total)),1),e[29]||(e[29]=u(" of ")),t("strong",null,m(n.pagination.total.toLocaleString()),1),e[30]||(e[30]=u(" records "))]))])):(r(),v("span",Ge,"No records found"))]),s(k,{modelValue:n.currentPage,"onUpdate:modelValue":e[5]||(e[5]=i=>n.currentPage=i),pagination:n.pagination,"per-page-value":n.perPage,"per-page-options":n.perPageOptions,"onUpdate:perPage":o.onPerPageUpdate,onPageChange:o.onPageChange},null,8,["modelValue","pagination","per-page-value","per-page-options","onUpdate:perPage","onPageChange"])])]),_:1})]),_:1}),s(F,{modelValue:n.dialog,"onUpdate:modelValue":e[6]||(e[6]=i=>n.dialog=i),warehouse:n.selectedWarehouse,saving:n.saving,onSave:o.handleSave},null,8,["modelValue","warehouse","saving","onSave"]),s(S,{modelValue:n.viewDialog,"onUpdate:modelValue":e[7]||(e[7]=i=>n.viewDialog=i),warehouse:n.selectedWarehouse},null,8,["modelValue","warehouse"])]),_:1})}const Ze=I(ze,[["render",He],["__scopeId","data-v-59bccb6b"]]);export{Ze as default};
