import{_ as C,c as i,b as t,a,r,w as l,F as h,h as v,e as k,i as w,o as c,d as D,t as o}from"./app-CHlE1Mvy.js";const S={name:"AdminDashboard",data(){return{loading:!1,metrics:{today_sales:0,month_sales:0,customer_due:0,low_stock_items:0,product_count:0},recentSales:[]}},computed:{cards(){return[{title:"Today Sales",value:this.formatCurrency(this.metrics.today_sales)},{title:"This Month Sales",value:this.formatCurrency(this.metrics.month_sales)},{title:"Customer Due",value:this.formatCurrency(this.metrics.customer_due)},{title:"Low Stock Items",value:this.metrics.low_stock_items},{title:"Products",value:this.metrics.product_count}]}},created(){this.loadDashboard()},methods:{async loadDashboard(){var d;this.loading=!0;try{const{data:e}=await w.get("/api/v1/dashboard");this.metrics=e.metrics||this.metrics,this.recentSales=e.recent_sales||[]}catch(e){console.error("Failed to load dashboard",e),(d=this.$toast)==null||d.error("Failed to load dashboard data")}finally{this.loading=!1}},formatCurrency(d){const e=Number(d)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}}},N={class:"page-header mb-6 d-flex align-center justify-space-between"},F={class:"text-caption text-grey mb-1"},B={class:"text-h4 font-weight-bold"},I={key:0},T={class:"text-right"},V={class:"text-right"},j={class:"text-right"};function A(d,e,L,P,u,n){const _=r("v-btn"),m=r("v-card"),f=r("v-col"),b=r("v-row"),y=r("v-card-title"),p=r("v-divider"),g=r("v-table"),x=r("v-card-text");return c(),i("div",null,[t("div",N,[e[0]||(e[0]=t("h1",{class:"text-h4 page-title"},"Dashboard",-1)),a(_,{icon:"mdi-refresh",onClick:n.loadDashboard,loading:u.loading,variant:"text"},null,8,["onClick","loading"])]),a(b,{class:"mb-4",dense:""},{default:l(()=>[(c(!0),i(h,null,v(n.cards,s=>(c(),D(f,{cols:"12",sm:"6",md:"3",key:s.title},{default:l(()=>[a(m,{class:"py-3 px-4"},{default:l(()=>[t("div",F,o(s.title),1),t("div",B,o(s.value),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(m,null,{default:l(()=>[a(y,{class:"d-flex justify-space-between align-center"},{default:l(()=>[e[1]||(e[1]=t("div",{class:"text-subtitle-1"},"Recent Sales",-1)),a(_,{size:"small",icon:"mdi-refresh",onClick:n.loadDashboard,loading:u.loading,variant:"text"},null,8,["onClick","loading"])]),_:1,__:[1]}),a(p),a(x,null,{default:l(()=>[a(g,{density:"compact"},{default:l(()=>[e[3]||(e[3]=t("thead",null,[t("tr",null,[t("th",null,"Invoice"),t("th",null,"Customer"),t("th",{class:"text-right"},"Total"),t("th",{class:"text-right"},"Paid"),t("th",{class:"text-right"},"Due"),t("th",null,"Date")])],-1)),t("tbody",null,[u.recentSales.length===0?(c(),i("tr",I,e[2]||(e[2]=[t("td",{colspan:"6",class:"text-center text-grey"},"No sales recorded yet",-1)]))):k("",!0),(c(!0),i(h,null,v(u.recentSales,s=>(c(),i("tr",{key:s.id},[t("td",null,o(s.invoice_number),1),t("td",null,o(s.customer||"Walk-in"),1),t("td",T,o(n.formatCurrency(s.total)),1),t("td",V,o(n.formatCurrency(s.paid)),1),t("td",j,o(n.formatCurrency(s.balance)),1),t("td",null,o(s.date),1)]))),128))])]),_:1,__:[3]})]),_:1})]),_:1})])}const z=C(S,[["render",A],["__scopeId","data-v-6c2c9a3b"]]);export{z as default};
