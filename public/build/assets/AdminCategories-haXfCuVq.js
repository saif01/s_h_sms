import{c as L}from"./commonMixin-BwIVv23E.js";import{P as T,p as A,d as F}from"./PaginationControls-DoA1lTDa.js";import{_ as O,i as M,d as P,w as s,a,r as n,b as t,c as h,f as m,e as U,t as g,o as c,k as R,F as B,h as j}from"./app-BqLCFCMY.js";import{r as G,n as H}from"./uploads-CnEkgyD_.js";const W={name:"CategoryViewDialog",props:{modelValue:{type:Boolean,required:!0},category:{type:Object,default:null}},emits:["update:modelValue"],data(){return{loading:!1,categoryData:null}},computed:{displayCategory(){return this.categoryData||this.category}},watch:{modelValue(o){o&&this.category&&this.category.id?this.loadCategoryDetails():this.categoryData=null},category:{immediate:!0,handler(o){o&&o.id&&this.modelValue?this.loadCategoryDetails():this.categoryData=null}}},methods:{async loadCategoryDetails(){var o,e;if((o=this.category)!=null&&o.id){this.loading=!0;try{const _=localStorage.getItem("admin_token"),b=await M.get(`/api/v1/categories/${this.category.id}`,{headers:{Authorization:`Bearer ${_}`}});this.categoryData=b.data}catch(_){console.error("Failed to load category details",_),(e=this.$toast)==null||e.error("Failed to load category details")}finally{this.loading=!1}}},formatDateShort(o){if(!o)return"-";const e=new Date(o),_=String(e.getDate()).padStart(2,"0"),b=String(e.getMonth()+1).padStart(2,"0"),l=e.getFullYear();let i=e.getHours();const p=String(e.getMinutes()).padStart(2,"0"),d=i>=12?"PM":"AM";i=i%12,i=i||12;const u=String(i).padStart(2,"0");return`${_}/${b}/${l} ${u}:${p} ${d}`},close(){this.$emit("update:modelValue",!1)}}},J={key:0,class:"text-center py-8"},Y={key:1,class:"text-center py-8"},K={key:2},Q={class:"text-center"},X={class:"info-item-compact"},Z={class:"text-body-2 font-weight-medium ml-1"},$={class:"info-item-compact"},ee={class:"info-item-compact"},te={class:"text-body-2 ml-1"},ae={class:"info-item-compact"},oe={class:"text-body-2 ml-1"},se={class:"info-item-compact"},le={class:"text-body-2 font-weight-medium ml-1"},ie={class:"info-item-compact"},ne={class:"text-body-2 ml-1"},re={class:"info-item-compact"},de={class:"text-body-2 ml-1"},me={class:"info-item-compact"},ce={class:"text-body-2 ml-1"},ue={class:"info-item-compact"},ge={class:"text-body-2 ml-1"},pe={class:"info-item-compact"},ye={class:"text-body-2 ml-1"};function fe(o,e,_,b,l,i){const p=n("v-btn"),d=n("v-card-title"),u=n("v-divider"),y=n("v-progress-circular"),w=n("v-alert"),D=n("v-img"),f=n("v-col"),S=n("v-chip"),C=n("v-row"),x=n("v-card-text"),V=n("v-card"),z=n("v-card-actions"),I=n("v-dialog");return c(),P(I,{"model-value":_.modelValue,"onUpdate:modelValue":e[0]||(e[0]=k=>o.$emit("update:modelValue",k)),"max-width":"700px",persistent:"",scrollable:""},{default:s(()=>[a(V,{class:"category-view-dialog"},{default:s(()=>[a(d,{class:"dialog-header d-flex justify-space-between align-center pa-3"},{default:s(()=>[e[1]||(e[1]=t("span",{class:"text-h6 font-weight-medium"},"Category Details",-1)),a(p,{icon:"mdi-close",variant:"text",size:"small",onClick:i.close},null,8,["onClick"])]),_:1,__:[1]}),a(u),a(x,{class:"pa-3"},{default:s(()=>[l.loading?(c(),h("div",J,[a(y,{indeterminate:"",color:"primary",size:"48"}),e[2]||(e[2]=t("div",{class:"mt-3 text-body-2"},"Loading category details...",-1))])):i.displayCategory?(c(),h("div",K,[e[14]||(e[14]=t("div",{class:"text-subtitle-2 font-weight-medium mb-2"},"Category Information",-1)),a(V,{variant:"outlined",class:"mb-2"},{default:s(()=>[a(x,{class:"pa-2"},{default:s(()=>[a(C,{dense:"",class:"ma-0"},{default:s(()=>[i.displayCategory.image?(c(),P(f,{key:0,cols:"12",sm:"3",class:"pa-2"},{default:s(()=>[t("div",Q,[a(D,{src:i.displayCategory.image,"max-width":"120","max-height":"120",class:"mx-auto",style:{"border-radius":"8px"},cover:""},null,8,["src"])])]),_:1})):U("",!0),a(f,{cols:(i.displayCategory.image,12),sm:i.displayCategory.image?9:12,class:"pa-2"},{default:s(()=>[a(C,{dense:"",class:"ma-0"},{default:s(()=>[a(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[t("div",X,[e[4]||(e[4]=t("span",{class:"text-caption text-grey"},"ID:",-1)),t("span",Z,g(i.displayCategory.id||"-"),1)])]),_:1}),a(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[t("div",$,[e[5]||(e[5]=t("span",{class:"text-caption text-grey"},"Status:",-1)),a(S,{size:"x-small",color:i.displayCategory.is_active?"success":"error",variant:"tonal",class:"ml-1"},{default:s(()=>[m(g(i.displayCategory.is_active?"Active":"Inactive"),1)]),_:1},8,["color"])])]),_:1}),a(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[t("div",ee,[e[6]||(e[6]=t("span",{class:"text-caption text-grey"},"Order:",-1)),t("span",te,g(i.displayCategory.order||0),1)])]),_:1}),a(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[t("div",ae,[e[7]||(e[7]=t("span",{class:"text-caption text-grey"},"Slug:",-1)),t("span",oe,g(i.displayCategory.slug||"-"),1)])]),_:1}),a(f,{cols:"12",class:"pa-2"},{default:s(()=>[t("div",se,[e[8]||(e[8]=t("span",{class:"text-caption text-grey"},"Name:",-1)),t("span",le,g(i.displayCategory.name||"-"),1)])]),_:1}),i.displayCategory.description?(c(),P(f,{key:0,cols:"12",class:"pa-2"},{default:s(()=>[t("div",ie,[e[9]||(e[9]=t("span",{class:"text-caption text-grey"},"Description:",-1)),t("span",ne,g(i.displayCategory.description),1)])]),_:1})):U("",!0)]),_:1})]),_:1},8,["cols","sm"])]),_:1})]),_:1})]),_:1}),a(u,{class:"my-2"}),e[15]||(e[15]=t("div",{class:"text-subtitle-2 font-weight-medium mb-2"},"Audit Information",-1)),a(V,{variant:"outlined",class:"mb-2"},{default:s(()=>[a(x,{class:"pa-2"},{default:s(()=>[a(C,{dense:"",class:"ma-0"},{default:s(()=>[a(f,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>{var k;return[t("div",re,[e[10]||(e[10]=t("span",{class:"text-caption text-grey"},"Created By:",-1)),t("span",de,g(((k=i.displayCategory.created_by)==null?void 0:k.name)||"-"),1)])]}),_:1}),a(f,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>[t("div",me,[e[11]||(e[11]=t("span",{class:"text-caption text-grey"},"Created At:",-1)),t("span",ce,g(i.formatDateShort(i.displayCategory.created_at)||"-"),1)])]),_:1}),a(f,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>{var k;return[t("div",ue,[e[12]||(e[12]=t("span",{class:"text-caption text-grey"},"Updated By:",-1)),t("span",ge,g(((k=i.displayCategory.updated_by)==null?void 0:k.name)||"-"),1)])]}),_:1}),a(f,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>[t("div",pe,[e[13]||(e[13]=t("span",{class:"text-caption text-grey"},"Updated At:",-1)),t("span",ye,g(i.formatDateShort(i.displayCategory.updated_at)||"-"),1)])]),_:1})]),_:1})]),_:1})]),_:1})])):(c(),h("div",Y,[a(w,{type:"error",variant:"tonal",class:"ma-3",density:"compact"},{default:s(()=>e[3]||(e[3]=[m(" Failed to load category details ")])),_:1,__:[3]})]))]),_:1}),a(u),a(z,{class:"pa-2 justify-end"},{default:s(()=>[a(p,{variant:"text",size:"small",onClick:i.close},{default:s(()=>e[16]||(e[16]=[m("Close")])),_:1,__:[16]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const ve=O(W,[["render",fe],["__scopeId","data-v-559bf780"]]),_e={name:"CategoryDialog",props:{modelValue:{type:Boolean,required:!0},category:{type:Object,default:null}},emits:["update:modelValue","saved"],data(){return{form:this.getEmptyForm(),formValid:!1,saving:!1,imageFile:null,uploadingImage:!1,rules:{required:o=>!!o||"This field is required"}}},computed:{isEdit(){return!!this.form.id}},watch:{category:{immediate:!0,handler(o){if(o){const e=this.normalizeImageInput(o.image||"");this.form={id:o.id,name:o.name||"",slug:o.slug||"",description:o.description||"",image:e,order:o.order||0,is_active:o.is_active!==void 0?o.is_active:!0}}else this.form=this.getEmptyForm();this.imageFile=null}},"form.name"(o){o?this.form.slug=this.generateSlug(o):this.form.slug=""}},methods:{getEmptyForm(){return{id:null,name:"",slug:"",description:"",image:"",order:0,is_active:!0}},generateSlug(o){return o.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},normalizeImageInput(o){return H(o)},resolveImageUrl(o){return G(o)},async handleImageUpload(){var _,b,l,i,p;if(!this.imageFile)return;const o=Array.isArray(this.imageFile)?this.imageFile[0]:this.imageFile;if(!o)return;if(!o.type.startsWith("image/")){(_=this.$toast)==null||_.error("Please select a valid image file"),this.imageFile=null;return}const e=5*1024*1024;if(o.size>e){(b=this.$toast)==null||b.error("File size must be less than 5MB"),this.imageFile=null;return}this.uploadingImage=!0;try{const d=new FormData;d.append("image",o),d.append("folder","products/categories"),this.form.name&&d.append("prefix",this.form.name);const u=localStorage.getItem("admin_token"),y=await M.post("/api/v1/upload/image",d,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"multipart/form-data"}});if(y.data.success){const w=this.normalizeImageInput(y.data.path||y.data.url);this.form.image=w,this.imageFile=null,(l=this.$toast)==null||l.success("Image uploaded successfully")}else throw new Error(y.data.message||"Failed to upload image")}catch(d){console.error("Error uploading image:",d);let u="Failed to upload image";d.response?u=((i=d.response.data)==null?void 0:i.message)||d.response.statusText||u:d.message&&(u=d.message),(p=this.$toast)==null||p.error(u),this.imageFile=null}finally{this.uploadingImage=!1}},clearImage(){this.form.image="",this.imageFile=null},close(){this.$emit("update:modelValue",!1)},async save(){var e,_,b,l,i,p;if(await this.$refs.formRef.validate()){this.saving=!0;try{const d=localStorage.getItem("admin_token"),u=this.isEdit?`/api/v1/categories/${this.form.id}`:"/api/v1/categories",y={...this.form};y.image=this.normalizeImageInput(y.image);const w=this.isEdit?"put":"post";await M[w](u,y,{headers:{Authorization:`Bearer ${d}`}}),(e=this.$toast)==null||e.success(this.isEdit?"Category updated successfully":"Category created successfully"),this.$emit("saved"),this.close()}catch(d){console.error("Error saving category:",d);let u="Error saving category";if((b=(_=d.response)==null?void 0:_.data)!=null&&b.errors){const y=d.response.data.errors,w=[];Object.keys(y).forEach(D=>{w.push(y[D][0])}),u=w.join(", ")}else(i=(l=d.response)==null?void 0:l.data)!=null&&i.message&&(u=d.response.data.message);(p=this.$toast)==null||p.error(u)}finally{this.saving=!1}}}}},he={class:"text-h6 font-weight-medium"},Ce={class:"mb-4"},xe={key:0,class:"mb-3 text-center"};function be(o,e,_,b,l,i){const p=n("v-btn"),d=n("v-card-title"),u=n("v-divider"),y=n("v-text-field"),w=n("v-textarea"),D=n("v-img"),f=n("v-avatar"),S=n("v-progress-circular"),C=n("v-file-input"),x=n("v-switch"),V=n("v-form"),z=n("v-card-text"),I=n("v-card-actions"),k=n("v-card"),E=n("v-dialog");return c(),P(E,{"model-value":_.modelValue,"onUpdate:modelValue":e[7]||(e[7]=v=>o.$emit("update:modelValue",v)),"max-width":"700px",persistent:"",scrollable:""},{default:s(()=>[a(k,{class:"category-dialog"},{default:s(()=>[a(d,{class:"dialog-header d-flex justify-space-between align-center pa-3"},{default:s(()=>[t("span",he,g(i.isEdit?"Edit Category":"Add New Category"),1),a(p,{icon:"mdi-close",variant:"text",size:"small",onClick:i.close},null,8,["onClick"])]),_:1}),a(u),a(z,{class:"pa-3"},{default:s(()=>[a(V,{ref:"formRef",modelValue:l.formValid,"onUpdate:modelValue":e[6]||(e[6]=v=>l.formValid=v),"lazy-validation":""},{default:s(()=>[a(y,{modelValue:l.form.name,"onUpdate:modelValue":e[0]||(e[0]=v=>l.form.name=v),placeholder:"Enter category name (e.g., Electronics, Clothing)",rules:[l.rules.required],required:"",variant:"outlined",density:"comfortable","hide-details":"auto",hint:"Enter the category name as it should appear in the system","persistent-hint":"",class:"mb-4"},{label:s(()=>e[8]||(e[8]=[m(" Category Name "),t("span",{class:"text-error",style:{"font-size":"1.2em","font-weight":"bold"}},"*",-1)])),_:1},8,["modelValue","rules"]),a(y,{modelValue:l.form.slug,"onUpdate:modelValue":e[1]||(e[1]=v=>l.form.slug=v),label:"Slug",placeholder:"Auto-generated from category name",hint:"Auto-generated from category name (read-only)","persistent-hint":"",variant:"outlined",density:"comfortable","hide-details":"auto",readonly:"",class:"mb-4"},null,8,["modelValue"]),a(y,{modelValue:l.form.order,"onUpdate:modelValue":e[2]||(e[2]=v=>l.form.order=v),modelModifiers:{number:!0},label:"Display Order",type:"number",min:"0",placeholder:"Enter display order (e.g., 0, 1, 2)",hint:"Lower numbers appear first in the category list","persistent-hint":"",variant:"outlined",density:"comfortable","hide-details":"auto",class:"mb-4"},null,8,["modelValue"]),a(w,{modelValue:l.form.description,"onUpdate:modelValue":e[3]||(e[3]=v=>l.form.description=v),label:"Description",placeholder:"Enter a brief description about the category (optional)",variant:"outlined",density:"comfortable",rows:"3",hint:"Optional: Brief description about the category","persistent-hint":"","hide-details":"auto",class:"mb-4"},null,8,["modelValue"]),t("div",Ce,[e[10]||(e[10]=t("div",{class:"text-subtitle-2 font-weight-medium mb-2"},"Category Image",-1)),l.form.image?(c(),h("div",xe,[a(f,{size:"120",class:"mb-2"},{default:s(()=>[a(D,{src:l.form.image?i.resolveImageUrl(l.form.image):"",alt:"Category Preview"},null,8,["src"])]),_:1}),t("div",null,[a(p,{size:"small",variant:"text",color:"error","prepend-icon":"mdi-delete",onClick:i.clearImage},{default:s(()=>e[9]||(e[9]=[m("Remove Image")])),_:1,__:[9]},8,["onClick"])])])):U("",!0),a(C,{modelValue:l.imageFile,"onUpdate:modelValue":[e[4]||(e[4]=v=>l.imageFile=v),i.handleImageUpload],label:"Upload Image",variant:"outlined",density:"comfortable",color:"primary",accept:"image/*","prepend-icon":"mdi-image",hint:"Upload a category image (JPG, PNG, GIF, WebP - Max 5MB)","persistent-hint":"","show-size":""},R({_:2},[l.uploadingImage?{name:"append-inner",fn:s(()=>[a(S,{indeterminate:"",size:"20",color:"primary"})]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"])]),a(x,{modelValue:l.form.is_active,"onUpdate:modelValue":e[5]||(e[5]=v=>l.form.is_active=v),label:"Active Category",color:"success",class:"mb-4"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),a(u),a(I,{class:"pa-2 justify-end"},{default:s(()=>[a(p,{variant:"text",size:"small",onClick:i.close},{default:s(()=>e[11]||(e[11]=[m("Cancel")])),_:1,__:[11]},8,["onClick"]),a(p,{color:"primary",size:"small",loading:l.saving,onClick:i.save},{default:s(()=>[m(g(i.isEdit?"Update":"Create"),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const we=O(_e,[["render",be],["__scopeId","data-v-7e301359"]]),ke={components:{PaginationControls:T,CategoryViewDialog:ve,CategoryDialog:we},mixins:[L],data(){return{categories:[],activeFilter:null,activeOptions:[{title:"Active",value:!0},{title:"Inactive",value:!1}],dialog:!1,editingCategory:null,viewDialog:!1,selectedCategory:null,currentPage:F.currentPage,perPage:F.perPage,perPageOptions:F.perPageOptions,pagination:{...F.pagination}}},async mounted(){await this.loadCategories()},methods:{async loadCategories(){try{this.loading=!0;const o=this.buildPaginationParams();this.perPage==="all"&&(o.per_page=999999),this.search&&(o.search=this.search),this.activeFilter!==null&&(o.is_active=this.activeFilter);const e=await this.$axios.get("/api/v1/categories",{params:o,headers:this.getAuthHeaders()});this.categories=e.data.data||[],this.updatePagination(e.data)}catch(o){this.handleApiError(o,"Failed to load categories")}finally{this.loading=!1}},openDialog(o){this.editingCategory=o,this.dialog=!0},handleCategorySaved(){this.loadCategories()},openViewDialog(o){this.selectedCategory=o,this.viewDialog=!0},async deleteCategory(o){if(confirm(`Are you sure you want to delete ${o.name}?`))try{const e=localStorage.getItem("admin_token");await this.$axios.delete(`/api/v1/categories/${o.id}`,{headers:{Authorization:`Bearer ${e}`}}),this.showSuccess("Category deleted successfully"),await this.loadCategories()}catch(e){this.handleApiError(e,"Error deleting category")}},buildPaginationParams(o={}){return A.buildPaginationParams(this.currentPage,this.perPage,o,this.sortBy,this.sortDirection)},updatePagination(o){A.updatePagination(this,o)},resetPagination(){A.resetPagination(this)},onPerPageChange(){this.resetPagination(),this.loadCategories()},onPerPageUpdate(o){this.perPage=o,this.onPerPageChange()},onPageChange(o){this.currentPage=o,this.loadCategories()},onSort(o){this.handleSort(o),this.currentPage=1,this.loadCategories()},isSortingBy(o){return this.sortBy===o},getSortDirection(o){return this.sortBy===o?this.sortDirection:null}}},Pe={class:"page-header"},Ve={class:"text-caption text-grey"},De={class:"sortable-header"},Se={class:"sortable-header"},ze={class:"sortable-header"},Ie={class:"d-flex"},Fe={class:"d-flex align-center"},Ue={key:1,class:"text-caption text-grey"},Ee={key:0},Ae={class:"d-flex flex-column flex-md-row justify-space-between align-center align-md-start gap-3 mt-4"},Be={class:"text-caption text-grey"},Me={key:0},Oe={key:0},Ne={key:1},je={key:1};function qe(o,e,_,b,l,i){const p=n("v-btn"),d=n("v-select"),u=n("v-col"),y=n("v-text-field"),w=n("v-row"),D=n("v-card-text"),f=n("v-card"),S=n("v-card-title"),C=n("v-icon"),x=n("v-skeleton-loader"),V=n("v-chip"),z=n("v-img"),I=n("v-avatar"),k=n("v-table"),E=n("PaginationControls"),v=n("CategoryViewDialog"),q=n("CategoryDialog");return c(),h("div",null,[t("div",Pe,[e[10]||(e[10]=t("h1",{class:"text-h4 page-title"},"Category Management",-1)),a(p,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=r=>i.openDialog(null)),class:"add-button"},{default:s(()=>e[9]||(e[9]=[m(" Add New Category ")])),_:1,__:[9]})]),a(f,{class:"mb-4"},{default:s(()=>[a(D,null,{default:s(()=>[a(w,null,{default:s(()=>[a(u,{cols:"12",md:"4"},{default:s(()=>[a(d,{modelValue:l.activeFilter,"onUpdate:modelValue":[e[1]||(e[1]=r=>l.activeFilter=r),i.loadCategories],items:l.activeOptions,label:"Filter by Status",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),a(u,{cols:"12",md:"8"},{default:s(()=>[a(y,{modelValue:o.search,"onUpdate:modelValue":e[2]||(e[2]=r=>o.search=r),label:"Search by name, slug","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"",onInput:i.loadCategories},null,8,["modelValue","onInput"])]),_:1})]),_:1})]),_:1})]),_:1}),a(f,null,{default:s(()=>[a(S,{class:"d-flex justify-space-between align-center"},{default:s(()=>[e[12]||(e[12]=t("span",null,"Categories",-1)),t("span",Ve,[e[11]||(e[11]=m(" Total Records: ")),t("strong",null,g(l.pagination.total||0),1)])]),_:1,__:[12]}),a(D,null,{default:s(()=>[a(k,null,{default:s(()=>[t("thead",null,[t("tr",null,[t("th",{class:"sortable",onClick:e[3]||(e[3]=r=>i.onSort("name"))},[t("div",De,[e[14]||(e[14]=t("span",null,"Name",-1)),o.sortBy==="name"?(c(),P(C,{key:0,size:"18",class:"sort-icon active"},{default:s(()=>[m(g(o.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(c(),P(C,{key:1,size:"18",class:"sort-icon inactive"},{default:s(()=>e[13]||(e[13]=[m(" mdi-unfold-more-horizontal ")])),_:1,__:[13]}))])]),t("th",{class:"sortable",onClick:e[4]||(e[4]=r=>i.onSort("slug"))},[t("div",Se,[e[16]||(e[16]=t("span",null,"Slug",-1)),o.sortBy==="slug"?(c(),P(C,{key:0,size:"18",class:"sort-icon active"},{default:s(()=>[m(g(o.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(c(),P(C,{key:1,size:"18",class:"sort-icon inactive"},{default:s(()=>e[15]||(e[15]=[m(" mdi-unfold-more-horizontal ")])),_:1,__:[15]}))])]),e[19]||(e[19]=t("th",null,"Image",-1)),t("th",{class:"sortable",onClick:e[5]||(e[5]=r=>i.onSort("order"))},[t("div",ze,[e[18]||(e[18]=t("span",null,"Order",-1)),o.sortBy==="order"?(c(),P(C,{key:0,size:"18",class:"sort-icon active"},{default:s(()=>[m(g(o.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(c(),P(C,{key:1,size:"18",class:"sort-icon inactive"},{default:s(()=>e[17]||(e[17]=[m(" mdi-unfold-more-horizontal ")])),_:1,__:[17]}))])]),e[20]||(e[20]=t("th",null,"Status",-1)),e[21]||(e[21]=t("th",null,"Actions",-1))])]),t("tbody",null,[o.loading?(c(),h(B,{key:0},j(5,r=>t("tr",{key:`skeleton-${r}`},[t("td",null,[a(x,{type:"text",width:"150"})]),t("td",null,[a(x,{type:"text",width:"120"})]),t("td",null,[a(x,{type:"image",width:"50",height:"50"})]),t("td",null,[a(x,{type:"text",width:"40"})]),t("td",null,[a(x,{type:"chip",width:"80",height:"24"})]),t("td",null,[t("div",Ie,[a(x,{type:"button",width:"32",height:"32",class:"mr-1"}),a(x,{type:"button",width:"32",height:"32"})])])])),64)):(c(),h(B,{key:1},[(c(!0),h(B,null,j(l.categories,r=>(c(),h("tr",{key:r.id},[t("td",null,[t("div",Fe,[a(C,{size:"small",color:"primary",class:"mr-2"},{default:s(()=>e[22]||(e[22]=[m(" mdi-folder ")])),_:1,__:[22]}),m(" "+g(r.name),1)])]),t("td",null,[a(V,{size:"small",variant:"outlined"},{default:s(()=>[m(g(r.slug),1)]),_:2},1024)]),t("td",null,[r.image?(c(),P(I,{key:0,size:"50"},{default:s(()=>[a(z,{src:r.image,alt:r.name},null,8,["src","alt"])]),_:2},1024)):(c(),h("span",Ue,"-"))]),t("td",null,[a(V,{size:"small",color:"grey-lighten-2"},{default:s(()=>[m(g(r.order||0),1)]),_:2},1024)]),t("td",null,[a(V,{color:r.is_active?"success":"error",size:"small"},{default:s(()=>[m(g(r.is_active?"Active":"Inactive"),1)]),_:2},1032,["color"])]),t("td",null,[a(p,{size:"small",icon:"mdi-eye",onClick:N=>i.openViewDialog(r),variant:"text",color:"info",title:"View Category Details"},null,8,["onClick"]),a(p,{size:"small",icon:"mdi-pencil",onClick:N=>i.openDialog(r),variant:"text",title:"Edit Category"},null,8,["onClick"]),a(p,{size:"small",icon:"mdi-delete",onClick:N=>i.deleteCategory(r),variant:"text",color:"error",title:"Delete Category"},null,8,["onClick"])])]))),128)),l.categories.length===0?(c(),h("tr",Ee,e[23]||(e[23]=[t("td",{colspan:"6",class:"text-center py-4"},"No categories found",-1)]))):U("",!0)],64))])]),_:1}),t("div",Ae,[t("div",Be,[l.categories.length>0&&l.pagination.total>0?(c(),h("span",Me,[l.perPage==="all"?(c(),h("span",Oe,[e[24]||(e[24]=m(" Showing ")),t("strong",null,"all "+g(l.pagination.total.toLocaleString()),1),e[25]||(e[25]=m(" records "))])):(c(),h("span",Ne,[e[26]||(e[26]=m(" Showing ")),t("strong",null,g((l.currentPage-1)*l.perPage+1),1),e[27]||(e[27]=m(" to ")),t("strong",null,g(Math.min(l.currentPage*l.perPage,l.pagination.total)),1),e[28]||(e[28]=m(" of ")),t("strong",null,g(l.pagination.total.toLocaleString()),1),e[29]||(e[29]=m(" records "))]))])):(c(),h("span",je,"No records found"))]),a(E,{modelValue:l.currentPage,"onUpdate:modelValue":e[6]||(e[6]=r=>l.currentPage=r),pagination:l.pagination,"per-page-value":l.perPage,"per-page-options":l.perPageOptions,"onUpdate:perPage":i.onPerPageUpdate,onPageChange:i.onPageChange},null,8,["modelValue","pagination","per-page-value","per-page-options","onUpdate:perPage","onPageChange"])])]),_:1})]),_:1}),a(v,{modelValue:l.viewDialog,"onUpdate:modelValue":e[7]||(e[7]=r=>l.viewDialog=r),category:l.selectedCategory},null,8,["modelValue","category"]),a(q,{modelValue:l.dialog,"onUpdate:modelValue":e[8]||(e[8]=r=>l.dialog=r),category:l.editingCategory,onSaved:i.handleCategorySaved},null,8,["modelValue","category","onSaved"])])}const He=O(ke,[["render",qe],["__scopeId","data-v-19a120d4"]]);export{He as default};
