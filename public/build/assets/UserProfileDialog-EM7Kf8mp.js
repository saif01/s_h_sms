import{h as N}from"./moment-C5S46NFB.js";import{r as E}from"./uploads-CnEkgyD_.js";import{_ as F,d as i,w as e,a as l,r as n,b as v,f as r,c as m,e as u,t as _,F as x,h as b,o as a}from"./app-CHfYI-xI.js";const Y={name:"UserProfileDialog",props:{modelValue:{type:Boolean,default:!1},user:{type:Object,default:null}},emits:["update:modelValue"],data(){return{loading:!1}},computed:{resolvedAvatar(){return!this.user||!this.user.avatar?null:this.resolveImageUrl(this.user.avatar)},userRoles(){var o;return((o=this.user)==null?void 0:o.roles)||[]},userPermissions(){if(!this.user||!this.userRoles||this.userRoles.length===0)return[];const o=[];return this.userRoles.forEach(t=>{t.permissions&&t.permissions.length>0&&t.permissions.forEach(s=>{o.includes(s.slug)||o.push(s.slug)})}),o}},methods:{close(){this.$emit("update:modelValue",!1)},resolveImageUrl(o){return E(o)},formatDate(o){return o?N(o).format("MMMM Do, YYYY"):"N/A"},formatGender(o){return{male:"Male",female:"Female",other:"Other"}[o]||o}}},G={class:"text-h5 font-weight-bold"},I={key:0,class:"d-flex align-center justify-center pa-12"},L={class:"text-center"},O={key:1,class:"pa-6"},S={class:"text-center mb-6"},T={class:"text-h5 font-weight-bold mb-2"},q={key:0,class:"d-flex flex-wrap justify-center gap-2 mb-2"},H={key:0,class:"mb-1"},J={key:0},K={key:1},Q={key:2},W={key:3},X={key:4},Z={key:1,class:"mt-1"},$={class:"d-flex flex-wrap gap-2 mt-2"},ee={class:"d-flex flex-wrap gap-2 mt-2"},te={key:2,class:"d-flex align-center justify-center pa-12"},le={class:"text-center"};function se(o,t,s,re,w,d){const f=n("v-icon"),h=n("v-btn"),R=n("v-card-title"),V=n("v-progress-circular"),P=n("v-img"),U=n("v-avatar"),p=n("v-chip"),C=n("v-divider"),y=n("v-list-item-title"),g=n("v-list-item-subtitle"),k=n("v-list-item"),D=n("v-list"),M=n("v-card-text"),B=n("v-spacer"),z=n("v-card-actions"),A=n("v-card"),j=n("v-dialog");return a(),i(j,{"model-value":s.modelValue,"onUpdate:modelValue":t[0]||(t[0]=c=>o.$emit("update:modelValue",c)),"max-width":"700",scrollable:"",persistent:""},{default:e(()=>[l(A,null,{default:e(()=>[l(R,{class:"d-flex align-center justify-space-between bg-primary text-white pa-4"},{default:e(()=>[v("span",G,[l(f,{class:"mr-2"},{default:e(()=>t[1]||(t[1]=[r("mdi-account")])),_:1,__:[1]}),t[2]||(t[2]=r(" User Profile "))]),l(h,{icon:"mdi-close",variant:"text",color:"white",onClick:d.close},null,8,["onClick"])]),_:1}),l(M,{class:"pa-0"},{default:e(()=>[w.loading?(a(),m("div",I,[v("div",L,[l(V,{indeterminate:"",color:"primary",size:"64"}),t[3]||(t[3]=v("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading profile...",-1))])])):s.user?(a(),m("div",O,[v("div",S,[l(U,{size:"120",class:"mb-4 elevation-4"},{default:e(()=>[d.resolvedAvatar?(a(),i(P,{key:0,src:d.resolvedAvatar,alt:s.user.name,cover:""},null,8,["src","alt"])):(a(),i(f,{key:1,size:"60",color:"primary"},{default:e(()=>t[4]||(t[4]=[r("mdi-account")])),_:1,__:[4]}))]),_:1}),v("h2",T,_(s.user.name),1),d.userRoles&&d.userRoles.length>0?(a(),m("div",q,[(a(!0),m(x,null,b(d.userRoles,c=>(a(),i(p,{key:c.id,color:"primary",variant:"flat"},{default:e(()=>[r(_(c.name),1)]),_:2},1024))),128))])):u("",!0)]),l(C,{class:"my-4"}),l(D,{density:"comfortable"},{default:e(()=>[s.user.email?(a(),i(k,{key:0},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>t[5]||(t[5]=[r("mdi-email")])),_:1,__:[5]})]),default:e(()=>[l(y,null,{default:e(()=>t[6]||(t[6]=[r("Email")])),_:1,__:[6]}),l(g,null,{default:e(()=>[r(_(s.user.email),1)]),_:1})]),_:1})):u("",!0),s.user.phone?(a(),i(k,{key:1},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>t[7]||(t[7]=[r("mdi-phone")])),_:1,__:[7]})]),default:e(()=>[l(y,null,{default:e(()=>t[8]||(t[8]=[r("Phone")])),_:1,__:[8]}),l(g,null,{default:e(()=>[r(_(s.user.phone),1)]),_:1})]),_:1})):u("",!0),s.user.date_of_birth?(a(),i(k,{key:2},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>t[9]||(t[9]=[r("mdi-calendar")])),_:1,__:[9]})]),default:e(()=>[l(y,null,{default:e(()=>t[10]||(t[10]=[r("Date of Birth")])),_:1,__:[10]}),l(g,null,{default:e(()=>[r(_(d.formatDate(s.user.date_of_birth)),1)]),_:1})]),_:1})):u("",!0),s.user.gender?(a(),i(k,{key:3},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>t[11]||(t[11]=[r("mdi-gender-male-female")])),_:1,__:[11]})]),default:e(()=>[l(y,null,{default:e(()=>t[12]||(t[12]=[r("Gender")])),_:1,__:[12]}),l(g,null,{default:e(()=>[r(_(d.formatGender(s.user.gender)),1)]),_:1})]),_:1})):u("",!0),s.user.address||s.user.city||s.user.state||s.user.country||s.user.postal_code?(a(),i(k,{key:4},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>t[13]||(t[13]=[r("mdi-map-marker")])),_:1,__:[13]})]),default:e(()=>[l(y,null,{default:e(()=>t[14]||(t[14]=[r("Address")])),_:1,__:[14]}),l(g,null,{default:e(()=>[s.user.address?(a(),m("div",H,_(s.user.address),1)):u("",!0),v("div",null,[s.user.city?(a(),m("span",J,_(s.user.city),1)):u("",!0),s.user.city&&s.user.state?(a(),m("span",K,", ")):u("",!0),s.user.state?(a(),m("span",Q,_(s.user.state),1)):u("",!0),(s.user.city||s.user.state)&&s.user.postal_code?(a(),m("span",W)):u("",!0),s.user.postal_code?(a(),m("span",X,_(s.user.postal_code),1)):u("",!0)]),s.user.country?(a(),m("div",Z,_(s.user.country),1)):u("",!0)]),_:1})]),_:1})):u("",!0),d.userRoles&&d.userRoles.length>0?(a(),i(k,{key:5},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>t[15]||(t[15]=[r("mdi-shield-account")])),_:1,__:[15]})]),default:e(()=>[l(y,null,{default:e(()=>t[16]||(t[16]=[r("Assigned Roles")])),_:1,__:[16]}),l(g,null,{default:e(()=>[v("div",$,[(a(!0),m(x,null,b(d.userRoles,c=>(a(),i(p,{key:c.id,size:"small",color:"primary",variant:"outlined"},{default:e(()=>[r(_(c.name),1)]),_:2},1024))),128))])]),_:1})]),_:1})):u("",!0),d.userPermissions&&d.userPermissions.length>0?(a(),i(k,{key:6},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>t[17]||(t[17]=[r("mdi-key")])),_:1,__:[17]})]),default:e(()=>[l(y,null,{default:e(()=>t[18]||(t[18]=[r("Permissions")])),_:1,__:[18]}),l(g,null,{default:e(()=>[v("div",ee,[(a(!0),m(x,null,b(d.userPermissions,c=>(a(),i(p,{key:c,size:"small",color:"success",variant:"outlined"},{default:e(()=>[r(_(c),1)]),_:2},1024))),128))])]),_:1})]),_:1})):u("",!0),s.user.bio?(a(),i(k,{key:7},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>t[19]||(t[19]=[r("mdi-text")])),_:1,__:[19]})]),default:e(()=>[l(y,null,{default:e(()=>t[20]||(t[20]=[r("Bio")])),_:1,__:[20]}),l(g,{class:"text-body-2"},{default:e(()=>[r(_(s.user.bio),1)]),_:1})]),_:1})):u("",!0),s.user.created_at?(a(),i(k,{key:8},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>t[21]||(t[21]=[r("mdi-calendar-plus")])),_:1,__:[21]})]),default:e(()=>[l(y,null,{default:e(()=>t[22]||(t[22]=[r("Member Since")])),_:1,__:[22]}),l(g,null,{default:e(()=>[r(_(d.formatDate(s.user.created_at)),1)]),_:1})]),_:1})):u("",!0)]),_:1})])):(a(),m("div",te,[v("div",le,[l(f,{size:"64",color:"error"},{default:e(()=>t[23]||(t[23]=[r("mdi-alert-circle")])),_:1,__:[23]}),t[24]||(t[24]=v("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Failed to load profile",-1))])]))]),_:1}),l(z,{class:"pa-4 bg-grey-lighten-4"},{default:e(()=>[l(B),l(h,{color:"primary",variant:"flat",onClick:d.close},{default:e(()=>t[25]||(t[25]=[r(" Close ")])),_:1,__:[25]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const oe=F(Y,[["render",se],["__scopeId","data-v-4856f57d"]]);export{oe as U};
