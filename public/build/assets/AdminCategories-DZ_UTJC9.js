import{c as L}from"./commonMixin-LD1l2-5e.js";import{p as O,P as q}from"./PaginationControls-CGFLaHsK.js";import{_ as B,A,d as k,w as s,a as o,r as l,b as a,c as _,f as d,e as P,t as u,o as m,D as T,F as E,y as N}from"./app-CYStQJ0f.js";import{f as R}from"./formatters-DzU97YYy.js";import{r as G,n as W}from"./uploads-CnEkgyD_.js";const H={name:"CategoryViewDialog",props:{modelValue:{type:Boolean,required:!0},category:{type:Object,default:null}},emits:["update:modelValue"],data(){return{loading:!1,categoryData:null}},computed:{displayCategory(){return this.categoryData||this.category}},watch:{modelValue(t){t&&this.category&&this.category.id?this.loadCategoryDetails():this.categoryData=null},category:{immediate:!0,handler(t){t&&t.id&&this.modelValue?this.loadCategoryDetails():this.categoryData=null}}},methods:{async loadCategoryDetails(){var t,e;if((t=this.category)!=null&&t.id){this.loading=!0;try{const h=localStorage.getItem("admin_token"),V=await A.get(`/api/v1/categories/${this.category.id}`,{headers:{Authorization:`Bearer ${h}`}});this.categoryData=V.data}catch(h){console.error("Failed to load category details",h),(e=this.$toast)==null||e.error("Failed to load category details")}finally{this.loading=!1}}},formatDateShort:R,close(){this.$emit("update:modelValue",!1)}}},J={key:0,class:"text-center py-8"},K={key:1,class:"text-center py-8"},Q={key:2},X={class:"text-center"},Y={class:"info-item-compact"},Z={class:"text-body-2 font-weight-medium ml-1"},$={class:"info-item-compact"},ee={class:"info-item-compact"},te={class:"text-body-2 ml-1"},ae={class:"info-item-compact"},oe={class:"text-body-2 ml-1"},se={class:"info-item-compact"},le={class:"text-body-2 font-weight-medium ml-1"},ie={class:"info-item-compact"},ne={class:"text-body-2 ml-1"},re={class:"info-item-compact"},de={class:"text-body-2 ml-1"},me={class:"info-item-compact"},ce={class:"text-body-2 ml-1"},ue={class:"info-item-compact"},ge={class:"text-body-2 ml-1"},pe={class:"info-item-compact"},fe={class:"text-body-2 ml-1"};function ye(t,e,h,V,n,i){const f=l("v-btn"),c=l("v-card-title"),g=l("v-divider"),p=l("v-progress-circular"),x=l("v-alert"),z=l("v-img"),y=l("v-col"),I=l("v-chip"),C=l("v-row"),b=l("v-card-text"),D=l("v-card"),F=l("v-card-actions"),S=l("v-dialog");return m(),k(S,{"model-value":h.modelValue,"onUpdate:modelValue":e[0]||(e[0]=w=>t.$emit("update:modelValue",w)),"max-width":"700px",persistent:"",scrollable:""},{default:s(()=>[o(D,{class:"category-view-dialog"},{default:s(()=>[o(c,{class:"dialog-header d-flex justify-space-between align-center pa-3"},{default:s(()=>[e[1]||(e[1]=a("span",{class:"text-h6 font-weight-medium"},"Category Details",-1)),o(f,{icon:"mdi-close",variant:"text",size:"small",onClick:i.close},null,8,["onClick"])]),_:1,__:[1]}),o(g),o(b,{class:"pa-3"},{default:s(()=>[n.loading?(m(),_("div",J,[o(p,{indeterminate:"",color:"primary",size:"48"}),e[2]||(e[2]=a("div",{class:"mt-3 text-body-2"},"Loading category details...",-1))])):i.displayCategory?(m(),_("div",Q,[e[14]||(e[14]=a("div",{class:"text-subtitle-2 font-weight-medium mb-2"},"Category Information",-1)),o(D,{variant:"outlined",class:"mb-2"},{default:s(()=>[o(b,{class:"pa-2"},{default:s(()=>[o(C,{dense:"",class:"ma-0"},{default:s(()=>[i.displayCategory.image?(m(),k(y,{key:0,cols:"12",sm:"3",class:"pa-2"},{default:s(()=>[a("div",X,[o(z,{src:i.displayCategory.image,"max-width":"120","max-height":"120",class:"mx-auto",style:{"border-radius":"8px"},cover:""},null,8,["src"])])]),_:1})):P("",!0),o(y,{cols:(i.displayCategory.image,12),sm:i.displayCategory.image?9:12,class:"pa-2"},{default:s(()=>[o(C,{dense:"",class:"ma-0"},{default:s(()=>[o(y,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[a("div",Y,[e[4]||(e[4]=a("span",{class:"text-caption text-grey"},"ID:",-1)),a("span",Z,u(i.displayCategory.id||"-"),1)])]),_:1}),o(y,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[a("div",$,[e[5]||(e[5]=a("span",{class:"text-caption text-grey"},"Status:",-1)),o(I,{size:"x-small",color:i.displayCategory.is_active?"success":"error",variant:"tonal",class:"ml-1"},{default:s(()=>[d(u(i.displayCategory.is_active?"Active":"Inactive"),1)]),_:1},8,["color"])])]),_:1}),o(y,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[a("div",ee,[e[6]||(e[6]=a("span",{class:"text-caption text-grey"},"Order:",-1)),a("span",te,u(i.displayCategory.order||0),1)])]),_:1}),o(y,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[a("div",ae,[e[7]||(e[7]=a("span",{class:"text-caption text-grey"},"Slug:",-1)),a("span",oe,u(i.displayCategory.slug||"-"),1)])]),_:1}),o(y,{cols:"12",class:"pa-2"},{default:s(()=>[a("div",se,[e[8]||(e[8]=a("span",{class:"text-caption text-grey"},"Name:",-1)),a("span",le,u(i.displayCategory.name||"-"),1)])]),_:1}),i.displayCategory.description?(m(),k(y,{key:0,cols:"12",class:"pa-2"},{default:s(()=>[a("div",ie,[e[9]||(e[9]=a("span",{class:"text-caption text-grey"},"Description:",-1)),a("span",ne,u(i.displayCategory.description),1)])]),_:1})):P("",!0)]),_:1})]),_:1},8,["cols","sm"])]),_:1})]),_:1})]),_:1}),o(g,{class:"my-2"}),e[15]||(e[15]=a("div",{class:"text-subtitle-2 font-weight-medium mb-2"},"Audit Information",-1)),o(D,{variant:"outlined",class:"mb-2"},{default:s(()=>[o(b,{class:"pa-2"},{default:s(()=>[o(C,{dense:"",class:"ma-0"},{default:s(()=>[o(y,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>{var w;return[a("div",re,[e[10]||(e[10]=a("span",{class:"text-caption text-grey"},"Created By:",-1)),a("span",de,u(((w=i.displayCategory.created_by)==null?void 0:w.name)||"-"),1)])]}),_:1}),o(y,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>[a("div",me,[e[11]||(e[11]=a("span",{class:"text-caption text-grey"},"Created At:",-1)),a("span",ce,u(i.formatDateShort(i.displayCategory.created_at)||"-"),1)])]),_:1}),o(y,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>{var w;return[a("div",ue,[e[12]||(e[12]=a("span",{class:"text-caption text-grey"},"Updated By:",-1)),a("span",ge,u(((w=i.displayCategory.updated_by)==null?void 0:w.name)||"-"),1)])]}),_:1}),o(y,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>[a("div",pe,[e[13]||(e[13]=a("span",{class:"text-caption text-grey"},"Updated At:",-1)),a("span",fe,u(i.formatDateShort(i.displayCategory.updated_at)||"-"),1)])]),_:1})]),_:1})]),_:1})]),_:1})])):(m(),_("div",K,[o(x,{type:"error",variant:"tonal",class:"ma-3",density:"compact"},{default:s(()=>e[3]||(e[3]=[d(" Failed to load category details ")])),_:1,__:[3]})]))]),_:1}),o(g),o(F,{class:"pa-2 justify-end"},{default:s(()=>[o(f,{variant:"text",size:"small",onClick:i.close},{default:s(()=>e[16]||(e[16]=[d("Close")])),_:1,__:[16]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const ve=B(H,[["render",ye],["__scopeId","data-v-2426277c"]]),_e={name:"CategoryDialog",props:{modelValue:{type:Boolean,required:!0},category:{type:Object,default:null}},emits:["update:modelValue","saved"],data(){return{form:this.getEmptyForm(),formValid:!1,saving:!1,imageFile:null,uploadingImage:!1,rules:{required:t=>!!t||"This field is required"}}},computed:{isEdit(){return!!this.form.id}},watch:{category:{immediate:!0,handler(t){if(t){const e=this.normalizeImageInput(t.image||"");this.form={id:t.id,name:t.name||"",slug:t.slug||"",description:t.description||"",image:e,order:t.order||0,is_active:t.is_active!==void 0?t.is_active:!0}}else this.form=this.getEmptyForm();this.imageFile=null}},"form.name"(t){t?this.form.slug=this.generateSlug(t):this.form.slug=""}},methods:{getEmptyForm(){return{id:null,name:"",slug:"",description:"",image:"",order:0,is_active:!0}},generateSlug(t){return t.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},normalizeImageInput(t){return W(t)},resolveImageUrl(t){return G(t)},async handleImageUpload(){var h,V,n,i,f;if(!this.imageFile)return;const t=Array.isArray(this.imageFile)?this.imageFile[0]:this.imageFile;if(!t)return;if(!t.type.startsWith("image/")){(h=this.$toast)==null||h.error("Please select a valid image file"),this.imageFile=null;return}const e=5*1024*1024;if(t.size>e){(V=this.$toast)==null||V.error("File size must be less than 5MB"),this.imageFile=null;return}this.uploadingImage=!0;try{const c=new FormData;c.append("image",t),c.append("folder","products/categories"),this.form.name&&c.append("prefix",this.form.name);const g=localStorage.getItem("admin_token"),p=await A.post("/api/v1/upload/image",c,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"multipart/form-data"}});if(p.data.success){const x=this.normalizeImageInput(p.data.path||p.data.url);this.form.image=x,this.imageFile=null,(n=this.$toast)==null||n.success("Image uploaded successfully")}else throw new Error(p.data.message||"Failed to upload image")}catch(c){console.error("Error uploading image:",c);let g="Failed to upload image";c.response?g=((i=c.response.data)==null?void 0:i.message)||c.response.statusText||g:c.message&&(g=c.message),(f=this.$toast)==null||f.error(g),this.imageFile=null}finally{this.uploadingImage=!1}},clearImage(){this.form.image="",this.imageFile=null},close(){this.$emit("update:modelValue",!1)},async save(){var e,h,V,n,i,f;if(await this.$refs.formRef.validate()){this.saving=!0;try{const c=localStorage.getItem("admin_token"),g=this.isEdit?`/api/v1/categories/${this.form.id}`:"/api/v1/categories",p={...this.form};p.image=this.normalizeImageInput(p.image);const x=this.isEdit?"put":"post";await A[x](g,p,{headers:{Authorization:`Bearer ${c}`}}),(e=this.$toast)==null||e.success(this.isEdit?"Category updated successfully":"Category created successfully"),this.$emit("saved"),this.close()}catch(c){console.error("Error saving category:",c);let g="Error saving category";if((V=(h=c.response)==null?void 0:h.data)!=null&&V.errors){const p=c.response.data.errors,x=[];Object.keys(p).forEach(z=>{x.push(p[z][0])}),g=x.join(", ")}else(i=(n=c.response)==null?void 0:n.data)!=null&&i.message&&(g=c.response.data.message);(f=this.$toast)==null||f.error(g)}finally{this.saving=!1}}}}},he={class:"text-h6 font-weight-medium"},Ce={class:"mb-4"},be={key:0,class:"mb-3 text-center"};function xe(t,e,h,V,n,i){const f=l("v-btn"),c=l("v-card-title"),g=l("v-divider"),p=l("v-text-field"),x=l("v-textarea"),z=l("v-img"),y=l("v-avatar"),I=l("v-progress-circular"),C=l("v-file-input"),b=l("v-switch"),D=l("v-form"),F=l("v-card-text"),S=l("v-card-actions"),w=l("v-card"),U=l("v-dialog");return m(),k(U,{"model-value":h.modelValue,"onUpdate:modelValue":e[7]||(e[7]=v=>t.$emit("update:modelValue",v)),"max-width":"700px",persistent:"",scrollable:""},{default:s(()=>[o(w,{class:"category-dialog"},{default:s(()=>[o(c,{class:"dialog-header d-flex justify-space-between align-center pa-3"},{default:s(()=>[a("span",he,u(i.isEdit?"Edit Category":"Add New Category"),1),o(f,{icon:"mdi-close",variant:"text",size:"small",onClick:i.close},null,8,["onClick"])]),_:1}),o(g),o(F,{class:"pa-3"},{default:s(()=>[o(D,{ref:"formRef",modelValue:n.formValid,"onUpdate:modelValue":e[6]||(e[6]=v=>n.formValid=v),"lazy-validation":""},{default:s(()=>[o(p,{modelValue:n.form.name,"onUpdate:modelValue":e[0]||(e[0]=v=>n.form.name=v),placeholder:"Enter category name (e.g., Electronics, Clothing)",rules:[n.rules.required],required:"",variant:"outlined",density:"comfortable","hide-details":"auto",hint:"Enter the category name as it should appear in the system","persistent-hint":"",class:"mb-4"},{label:s(()=>e[8]||(e[8]=[d(" Category Name "),a("span",{class:"text-error",style:{"font-size":"1.2em","font-weight":"bold"}},"*",-1)])),_:1},8,["modelValue","rules"]),o(p,{modelValue:n.form.slug,"onUpdate:modelValue":e[1]||(e[1]=v=>n.form.slug=v),label:"Slug",placeholder:"Auto-generated from category name",hint:"Auto-generated from category name (read-only)","persistent-hint":"",variant:"outlined",density:"comfortable","hide-details":"auto",readonly:"",class:"mb-4"},null,8,["modelValue"]),o(p,{modelValue:n.form.order,"onUpdate:modelValue":e[2]||(e[2]=v=>n.form.order=v),modelModifiers:{number:!0},label:"Display Order",type:"number",min:"0",placeholder:"Enter display order (e.g., 0, 1, 2)",hint:"Lower numbers appear first in the category list","persistent-hint":"",variant:"outlined",density:"comfortable","hide-details":"auto",class:"mb-4"},null,8,["modelValue"]),o(x,{modelValue:n.form.description,"onUpdate:modelValue":e[3]||(e[3]=v=>n.form.description=v),label:"Description",placeholder:"Enter a brief description about the category (optional)",variant:"outlined",density:"comfortable",rows:"3",hint:"Optional: Brief description about the category","persistent-hint":"","hide-details":"auto",class:"mb-4"},null,8,["modelValue"]),a("div",Ce,[e[10]||(e[10]=a("div",{class:"text-subtitle-2 font-weight-medium mb-2"},"Category Image",-1)),n.form.image?(m(),_("div",be,[o(y,{size:"120",class:"mb-2"},{default:s(()=>[o(z,{src:n.form.image?i.resolveImageUrl(n.form.image):"",alt:"Category Preview"},null,8,["src"])]),_:1}),a("div",null,[o(f,{size:"small",variant:"text",color:"error","prepend-icon":"mdi-delete",onClick:i.clearImage},{default:s(()=>e[9]||(e[9]=[d("Remove Image")])),_:1,__:[9]},8,["onClick"])])])):P("",!0),o(C,{modelValue:n.imageFile,"onUpdate:modelValue":[e[4]||(e[4]=v=>n.imageFile=v),i.handleImageUpload],label:"Upload Image",variant:"outlined",density:"comfortable",color:"primary",accept:"image/*","prepend-icon":"mdi-image",hint:"Upload a category image (JPG, PNG, GIF, WebP - Max 5MB)","persistent-hint":"","show-size":""},T({_:2},[n.uploadingImage?{name:"append-inner",fn:s(()=>[o(I,{indeterminate:"",size:"20",color:"primary"})]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"])]),o(b,{modelValue:n.form.is_active,"onUpdate:modelValue":e[5]||(e[5]=v=>n.form.is_active=v),label:"Active Category",color:"success",class:"mb-4"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),o(g),o(S,{class:"pa-2 justify-end"},{default:s(()=>[o(f,{variant:"text",size:"small",onClick:i.close},{default:s(()=>e[11]||(e[11]=[d("Cancel")])),_:1,__:[11]},8,["onClick"]),o(f,{color:"primary",size:"small",loading:n.saving,onClick:i.save},{default:s(()=>[d(u(i.isEdit?"Update":"Create"),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const we=B(_e,[["render",xe],["__scopeId","data-v-7e301359"]]),ke={components:{PaginationControls:q,CategoryViewDialog:ve,CategoryDialog:we},mixins:[L,O],data(){return{categories:[],activeFilter:null,dialog:!1,editingCategory:null,viewDialog:!1,selectedCategory:null}},async mounted(){await this.loadCategories()},methods:{async loadCategories(){try{this.loading=!0;const t=this.buildPaginationParams();this.perPage==="all"&&(t.per_page=999999),this.search&&(t.search=this.search),this.activeFilter!==null&&(t.is_active=this.activeFilter);const e=await this.$axios.get("/api/v1/categories",{params:t,headers:this.getAuthHeaders()});this.categories=e.data.data||[],this.updatePagination(e.data)}catch(t){this.handleApiError(t,"Failed to load categories")}finally{this.loading=!1}},openDialog(t){this.editingCategory=t,this.dialog=!0},openViewDialog(t){this.selectedCategory=t,this.viewDialog=!0},handleCategorySaved(){this.loadCategories()},deleteCategory(t){this.deleteItem(t,{apiEndpoint:"/api/v1/categories",itemName:"category",itemLabel:t.name,successMessage:"Category deleted successfully",errorMessage:"Error deleting category",onSuccess:()=>this.loadCategories()})}}},Ve={class:"page-header"},De={class:"text-caption text-grey"},ze={class:"sortable-header"},Ie={class:"sortable-header"},Fe={class:"sortable-header"},Se={class:"d-flex"},Pe={class:"d-flex align-center"},Ue={key:1,class:"text-caption text-grey"},Ee={key:0},Ae={class:"d-flex flex-column flex-md-row justify-space-between align-center align-md-start gap-3 mt-4"},Be={class:"text-caption text-grey"},Me={key:0},Ne={key:0},je={key:1},Le={key:1};function Oe(t,e,h,V,n,i){const f=l("v-btn"),c=l("v-select"),g=l("v-col"),p=l("v-text-field"),x=l("v-row"),z=l("v-card-text"),y=l("v-card"),I=l("v-card-title"),C=l("v-icon"),b=l("v-skeleton-loader"),D=l("v-chip"),F=l("v-img"),S=l("v-avatar"),w=l("v-table"),U=l("PaginationControls"),v=l("CategoryViewDialog"),j=l("CategoryDialog");return m(),_("div",null,[a("div",Ve,[e[10]||(e[10]=a("h1",{class:"text-h4 page-title"},"Category Management",-1)),o(f,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=r=>i.openDialog(null)),class:"add-button"},{default:s(()=>e[9]||(e[9]=[d(" Add New Category ")])),_:1,__:[9]})]),o(y,{class:"mb-4"},{default:s(()=>[o(z,null,{default:s(()=>[o(x,null,{default:s(()=>[o(g,{cols:"12",md:"4"},{default:s(()=>[o(c,{modelValue:n.activeFilter,"onUpdate:modelValue":[e[1]||(e[1]=r=>n.activeFilter=r),i.loadCategories],items:t.activeOptions,label:"Filter by Status",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),o(g,{cols:"12",md:"8"},{default:s(()=>[o(p,{modelValue:t.search,"onUpdate:modelValue":e[2]||(e[2]=r=>t.search=r),label:"Search by name, slug","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"",onInput:i.loadCategories},null,8,["modelValue","onInput"])]),_:1})]),_:1})]),_:1})]),_:1}),o(y,null,{default:s(()=>[o(I,{class:"d-flex justify-space-between align-center"},{default:s(()=>[e[12]||(e[12]=a("span",null,"Categories",-1)),a("span",De,[e[11]||(e[11]=d(" Total Records: ")),a("strong",null,u((t.pagination.total||0).toLocaleString()),1)])]),_:1,__:[12]}),o(z,null,{default:s(()=>[o(w,null,{default:s(()=>[a("thead",null,[a("tr",null,[a("th",{class:"sortable",onClick:e[3]||(e[3]=r=>t.onSort("name"))},[a("div",ze,[e[14]||(e[14]=a("span",null,"Name",-1)),t.sortBy==="name"?(m(),k(C,{key:0,size:"18",class:"sort-icon active"},{default:s(()=>[d(u(t.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(m(),k(C,{key:1,size:"18",class:"sort-icon inactive"},{default:s(()=>e[13]||(e[13]=[d(" mdi-unfold-more-horizontal ")])),_:1,__:[13]}))])]),a("th",{class:"sortable",onClick:e[4]||(e[4]=r=>t.onSort("slug"))},[a("div",Ie,[e[16]||(e[16]=a("span",null,"Slug",-1)),t.sortBy==="slug"?(m(),k(C,{key:0,size:"18",class:"sort-icon active"},{default:s(()=>[d(u(t.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(m(),k(C,{key:1,size:"18",class:"sort-icon inactive"},{default:s(()=>e[15]||(e[15]=[d(" mdi-unfold-more-horizontal ")])),_:1,__:[15]}))])]),e[19]||(e[19]=a("th",null,"Image",-1)),a("th",{class:"sortable",onClick:e[5]||(e[5]=r=>t.onSort("order"))},[a("div",Fe,[e[18]||(e[18]=a("span",null,"Order",-1)),t.sortBy==="order"?(m(),k(C,{key:0,size:"18",class:"sort-icon active"},{default:s(()=>[d(u(t.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(m(),k(C,{key:1,size:"18",class:"sort-icon inactive"},{default:s(()=>e[17]||(e[17]=[d(" mdi-unfold-more-horizontal ")])),_:1,__:[17]}))])]),e[20]||(e[20]=a("th",null,"Status",-1)),e[21]||(e[21]=a("th",null,"Actions",-1))])]),a("tbody",null,[t.loading?(m(),_(E,{key:0},N(5,r=>a("tr",{key:`skeleton-${r}`},[a("td",null,[o(b,{type:"text",width:"150"})]),a("td",null,[o(b,{type:"text",width:"120"})]),a("td",null,[o(b,{type:"image",width:"50",height:"50"})]),a("td",null,[o(b,{type:"text",width:"40"})]),a("td",null,[o(b,{type:"chip",width:"80",height:"24"})]),a("td",null,[a("div",Se,[o(b,{type:"button",width:"32",height:"32",class:"mr-1"}),o(b,{type:"button",width:"32",height:"32"})])])])),64)):(m(),_(E,{key:1},[(m(!0),_(E,null,N(n.categories,r=>(m(),_("tr",{key:r.id},[a("td",null,[a("div",Pe,[o(C,{size:"small",color:"primary",class:"mr-2"},{default:s(()=>e[22]||(e[22]=[d(" mdi-folder ")])),_:1,__:[22]}),d(" "+u(r.name),1)])]),a("td",null,[o(D,{size:"small",variant:"outlined"},{default:s(()=>[d(u(r.slug),1)]),_:2},1024)]),a("td",null,[r.image?(m(),k(S,{key:0,size:"50"},{default:s(()=>[o(F,{src:r.image,alt:r.name},null,8,["src","alt"])]),_:2},1024)):(m(),_("span",Ue,"-"))]),a("td",null,[o(D,{size:"small",color:"grey-lighten-2"},{default:s(()=>[d(u(r.order||0),1)]),_:2},1024)]),a("td",null,[o(D,{color:r.is_active?"success":"error",size:"small"},{default:s(()=>[d(u(r.is_active?"Active":"Inactive"),1)]),_:2},1032,["color"])]),a("td",null,[o(f,{size:"small",icon:"mdi-eye",onClick:M=>i.openViewDialog(r),variant:"text",color:"info",title:"View Category Details"},null,8,["onClick"]),o(f,{size:"small",icon:"mdi-pencil",onClick:M=>i.openDialog(r),variant:"text",title:"Edit Category"},null,8,["onClick"]),o(f,{size:"small",icon:"mdi-delete",onClick:M=>i.deleteCategory(r),variant:"text",color:"error",title:"Delete Category"},null,8,["onClick"])])]))),128)),n.categories.length===0?(m(),_("tr",Ee,e[23]||(e[23]=[a("td",{colspan:"6",class:"text-center py-4"},"No categories found",-1)]))):P("",!0)],64))])]),_:1}),a("div",Ae,[a("div",Be,[n.categories.length>0&&t.pagination.total>0?(m(),_("span",Me,[t.perPage==="all"?(m(),_("span",Ne,[e[24]||(e[24]=d(" Showing ")),a("strong",null,"all "+u(t.pagination.total.toLocaleString()),1),e[25]||(e[25]=d(" records "))])):(m(),_("span",je,[e[26]||(e[26]=d(" Showing ")),a("strong",null,u((t.currentPage-1)*t.perPage+1),1),e[27]||(e[27]=d(" to ")),a("strong",null,u(Math.min(t.currentPage*t.perPage,t.pagination.total).toLocaleString()),1),e[28]||(e[28]=d(" of ")),a("strong",null,u(t.pagination.total.toLocaleString()),1),e[29]||(e[29]=d(" records "))]))])):(m(),_("span",Le,"No records found"))]),o(U,{modelValue:t.currentPage,"onUpdate:modelValue":e[6]||(e[6]=r=>t.currentPage=r),pagination:t.pagination,"per-page-value":t.perPage,"per-page-options":t.perPageOptions,"onUpdate:perPage":t.onPerPageUpdate,onPageChange:t.onPageChange},null,8,["modelValue","pagination","per-page-value","per-page-options","onUpdate:perPage","onPageChange"])])]),_:1})]),_:1}),o(v,{modelValue:n.viewDialog,"onUpdate:modelValue":e[7]||(e[7]=r=>n.viewDialog=r),category:n.selectedCategory},null,8,["modelValue","category"]),o(j,{modelValue:n.dialog,"onUpdate:modelValue":e[8]||(e[8]=r=>n.dialog=r),category:n.editingCategory,onSaved:i.handleCategorySaved},null,8,["modelValue","category","onSaved"])])}const He=B(ke,[["render",Oe],["__scopeId","data-v-1459392d"]]);export{He as default};
