import{_ as w,c as d,a as o,e as m,w as i,r as s,f as p,F as y,y as M,m as L,b as h,t as _,o as l,d as f}from"./app-CYStQJ0f.js";const g={currentPage:1,perPage:10,pagination:{current_page:1,last_page:1,per_page:10,total:0},perPageOptions:[{title:"10",value:10,description:"Quick view"},{title:"25",value:25,description:"Standard"},{title:"50",value:50,description:"Comfortable"},{title:"100",value:100,description:"Extended"},{title:"500",value:500,description:"Large dataset"},{title:"Show All",value:"all",description:"All records"}]},u={buildPaginationParams(e,t,r={},P=null,v="asc"){const a={page:e,per_page:t==="all"?999999:t,...r};return P&&(a.sort_by=P,a.sort_direction=v),a},updatePagination(e,t){t&&(e.pagination={current_page:t.current_page||1,last_page:t.last_page||1,per_page:t.per_page||e.perPage,total:t.total||0})},resetPagination(e){e.currentPage=1}},Q={data(){return{currentPage:g.currentPage,perPage:g.perPage,perPageOptions:g.perPageOptions,pagination:{...g.pagination}}},methods:{buildPaginationParams(e={}){return u.buildPaginationParams(this.currentPage,this.perPage,e,this.sortBy,this.sortDirection)},updatePagination(e){u.updatePagination(this,e)},resetPagination(){u.resetPagination(this)},callLoadMethod(){if(this.loadMethodName&&typeof this[this.loadMethodName]=="function"){this[this.loadMethodName]();return}const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(r=>r.startsWith("load")&&r!=="loadData"&&typeof this[r]=="function");if(t.length>0){this[t[0]]();return}typeof this.loadData=="function"&&this.loadData()},onPerPageChange(){this.resetPagination(),this.callLoadMethod()},onPerPageUpdate(e){this.perPage=e,this.onPerPageChange()},onPageChange(e){this.currentPage=e,this.callLoadMethod()},onSort(e){typeof this.handleSort=="function"?this.handleSort(e):this.sortBy===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortBy=e,this.sortDirection="asc"),this.currentPage=1,this.callLoadMethod()}}},B={name:"PaginationControls",props:{modelValue:{type:Number,default:1},pagination:{type:Object,default:null},perPageValue:{type:[Number,String],default:10},perPageOptions:{type:Array,default:null}},emits:["update:modelValue","update:perPage","page-change","per-page-change","update:pagination"],data(){return{currentPage:this.modelValue||g.currentPage,localPerPage:this.perPageValue||g.perPage,defaultPerPageOptions:g.perPageOptions,localPagination:this.pagination||{...g.pagination}}},computed:{computedCurrentPage:{get(){return this.modelValue!==void 0?this.modelValue:this.currentPage},set(e){this.currentPage=e,this.$emit("update:modelValue",e)}},computedPerPage:{get(){return this.perPageValue!==void 0?this.perPageValue:this.localPerPage},set(e){this.localPerPage=e,this.$emit("update:perPage",e)}},computedPagination(){return this.pagination||this.localPagination},computedPerPageOptions(){return this.perPageOptions||this.defaultPerPageOptions}},watch:{modelValue(e){e!==void 0&&(this.currentPage=e)},perPageValue(e){e!==void 0&&(this.localPerPage=e)},pagination:{handler(e){e&&(this.localPagination={...e})},deep:!0}},provide(){return{paginationState:{currentPage:()=>this.computedCurrentPage,perPage:()=>this.computedPerPage,pagination:()=>this.computedPagination,perPageOptions:()=>this.computedPerPageOptions,buildPaginationParams:this.buildPaginationParams,updatePagination:this.updatePagination,resetPagination:this.resetPagination}}},methods:{selectPerPage(e){this.computedPerPage=e,this.$emit("update:perPage",e),this.$emit("per-page-change",e)},getPerPageLabel(){const e=this.computedPerPageOptions.find(t=>t.value===this.computedPerPage);return e?e.title:"10"},onPageChange(e){this.computedCurrentPage=e,this.$emit("update:modelValue",e),this.$emit("page-change",e)},buildPaginationParams(e={},t=null,r="asc"){return u.buildPaginationParams(this.computedCurrentPage,this.computedPerPage,e,t,r)},updatePagination(e){if(e){const t={perPage:this.computedPerPage,pagination:this.localPagination};u.updatePagination(t,e),this.localPagination=t.pagination,this.$emit("update:pagination",t.pagination)}},resetPagination(){this.computedCurrentPage=1,this.$emit("update:modelValue",1)}}},z={class:"pagination-controls"},U={class:"mr-2"},j={class:"font-weight-medium"},A={key:0,class:"text-caption text-grey ml-2"},D={key:0,class:"pagination-wrapper"};function $(e,t,r,P,v,a){const c=s("v-icon"),b=s("v-btn"),C=s("v-list-subheader"),O=s("v-divider"),V=s("v-list-item-title"),k=s("v-list-item"),x=s("v-list"),N=s("v-menu"),S=s("v-pagination");return l(),d("div",z,[o(N,{location:"top"},{activator:i(({props:n})=>[o(b,L(n,{variant:"outlined",density:"compact","prepend-icon":"mdi-format-list-numbered",class:"items-per-page-btn"}),{default:i(()=>[h("span",U,[t[0]||(t[0]=p("Show: ")),h("strong",null,_(a.getPerPageLabel()),1)]),o(c,{size:"small"},{default:i(()=>t[1]||(t[1]=[p("mdi-chevron-up")])),_:1,__:[1]})]),_:2},1040)]),default:i(()=>[o(x,{class:"items-per-page-menu"},{default:i(()=>[o(C,{class:"text-caption font-weight-medium"},{default:i(()=>[o(c,{size:"small",class:"mr-1"},{default:i(()=>t[2]||(t[2]=[p("mdi-view-list")])),_:1,__:[2]}),t[3]||(t[3]=p(" Items per page "))]),_:1,__:[3]}),(l(!0),d(y,null,M(a.computedPerPageOptions,(n,E)=>(l(),d(y,{key:n.value},[n.value==="all"?(l(),f(O,{key:0,class:"my-2"})):m("",!0),o(k,{value:n.value,active:a.computedPerPage===n.value,onClick:F=>a.selectPerPage(n.value),class:"items-per-page-item"},{prepend:i(()=>[a.computedPerPage===n.value?(l(),f(c,{key:0,color:"primary",size:"small"},{default:i(()=>t[4]||(t[4]=[p(" mdi-check-circle ")])),_:1,__:[4]})):(l(),f(c,{key:1,size:"small",class:"text-grey"},{default:i(()=>t[5]||(t[5]=[p(" mdi-circle-outline ")])),_:1,__:[5]}))]),default:i(()=>[o(V,null,{default:i(()=>[h("span",j,_(n.title),1),n.description?(l(),d("span",A,_(n.description),1)):m("",!0)]),_:2},1024)]),_:2},1032,["value","active","onClick"])],64))),128))]),_:1})]),_:1}),a.computedPagination.last_page>1&&a.computedPerPage!=="all"?(l(),d("div",D,[o(S,{"model-value":a.computedCurrentPage,length:a.computedPagination.last_page,"total-visible":7,density:"comfortable","onUpdate:modelValue":a.onPageChange,class:"pagination-component","show-first-last-page":"","first-icon":"mdi-page-first","last-icon":"mdi-page-last"},null,8,["model-value","length","onUpdate:modelValue"])])):m("",!0)])}const T=w(B,[["render",$],["__scopeId","data-v-2a104ac0"]]);export{T as P,Q as p};
