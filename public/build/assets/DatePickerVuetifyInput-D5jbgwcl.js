import{_ as h,c as p,a as r,w as c,r as u,m as f,o as v}from"./app-CHfYI-xI.js";const V={props:["fieldLabel","required","variant","min","initialDate"],data(){return{isMenuOpen:null,selectedDate:this.initialDate==null?null:new Date(this.initialDate),dbFormatDate:null,dateFieldLavel:this.fieldLabel??"Selected date",fieldPlaceHolder:"Enter "+this.fieldLabel,yesterdayIso:new Date(new Date().setDate(new Date().getDate()-1))}},computed:{computedCustomValue(){if(this.selectedDate)return this.frmtInsideDate(this.selectedDate)}},watch:{computedCustomValue:function(a){a&&this.dbFormatDate!==null&&this.$emit("trigerInputValue",this.dbFormatDate)},initialDate:function(a){a?(this.selectedDate=new Date(a),this.$nextTick(()=>{this.computedCustomValue&&this.dbFormatDate&&this.$emit("trigerInputValue",this.dbFormatDate)})):(this.selectedDate=null,this.dbFormatDate=null,this.$emit("trigerInputValue",null))}},mounted(){this.initialDate&&this.selectedDate&&this.$nextTick(()=>{this.computedCustomValue&&this.dbFormatDate&&this.$emit("trigerInputValue",this.dbFormatDate)})},methods:{onClear(){this.selectedDate=null,this.dbFormatDate=null,this.$emit("trigerInputValue",null)},frmtInsideDate(a){const e=new Date(a),l=e.getDate(),d=e.getMonth()+1,t=e.getFullYear(),n=l.toString().padStart(2,"0"),s=d.toString().padStart(2,"0"),o=`${n}/${s}/${t}`;return this.dbFormatDate=`${t}-${s}-${n}`,o}}};function b(a,e,l,d,t,n){const s=u("v-text-field"),o=u("v-date-picker"),D=u("v-menu");return v(),p("div",null,[r(D,{modelValue:t.isMenuOpen,"onUpdate:modelValue":e[3]||(e[3]=i=>t.isMenuOpen=i),"close-on-content-click":!1},{activator:c(({props:i})=>[r(s,f({label:t.dateFieldLavel,placeholder:t.fieldPlaceHolder,"model-value":n.computedCustomValue,readonly:""},i,{clearable:"","onClick:clear":e[0]||(e[0]=m=>n.onClear()),density:"compact",class:l.required?"required":null,variant:l.variant?l.variant:"outlined",rules:[l.required?m=>!!m||`This ${t.dateFieldLavel} is required`:null]}),null,16,["label","placeholder","model-value","class","variant","rules"])]),default:c(()=>[r(o,{"show-adjacent-months":"","hide-header":"","hide-actions":"",position:"sticky",modelValue:t.selectedDate,"onUpdate:modelValue":[e[1]||(e[1]=i=>t.selectedDate=i),e[2]||(e[2]=i=>(t.isMenuOpen=!1,l.initialDate=null))],min:l.min?t.yesterdayIso:null},null,8,["modelValue","min"])]),_:1},8,["modelValue"])])}const _=h(V,[["render",b]]);export{_ as D};
