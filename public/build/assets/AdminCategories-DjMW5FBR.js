import{c as L}from"./commonMixin-BwIVv23E.js";import{P as T,p as A,d as U}from"./PaginationControls-6l2F_IVt.js";import{_ as N,i as O,d as k,w as s,a,r,b as t,c as _,f as d,e as F,t as u,o as m,k as R,F as B,h as M}from"./app-CHfYI-xI.js";import{f as G}from"./formatters-DzU97YYy.js";import{r as W,n as H}from"./uploads-CnEkgyD_.js";const J={name:"CategoryViewDialog",props:{modelValue:{type:Boolean,required:!0},category:{type:Object,default:null}},emits:["update:modelValue"],data(){return{loading:!1,categoryData:null}},computed:{displayCategory(){return this.categoryData||this.category}},watch:{modelValue(o){o&&this.category&&this.category.id?this.loadCategoryDetails():this.categoryData=null},category:{immediate:!0,handler(o){o&&o.id&&this.modelValue?this.loadCategoryDetails():this.categoryData=null}}},methods:{async loadCategoryDetails(){var o,e;if((o=this.category)!=null&&o.id){this.loading=!0;try{const h=localStorage.getItem("admin_token"),P=await O.get(`/api/v1/categories/${this.category.id}`,{headers:{Authorization:`Bearer ${h}`}});this.categoryData=P.data}catch(h){console.error("Failed to load category details",h),(e=this.$toast)==null||e.error("Failed to load category details")}finally{this.loading=!1}}},formatDateShort:G,close(){this.$emit("update:modelValue",!1)}}},K={key:0,class:"text-center py-8"},Q={key:1,class:"text-center py-8"},X={key:2},Y={class:"text-center"},Z={class:"info-item-compact"},$={class:"text-body-2 font-weight-medium ml-1"},ee={class:"info-item-compact"},te={class:"info-item-compact"},ae={class:"text-body-2 ml-1"},oe={class:"info-item-compact"},se={class:"text-body-2 ml-1"},le={class:"info-item-compact"},ie={class:"text-body-2 font-weight-medium ml-1"},re={class:"info-item-compact"},ne={class:"text-body-2 ml-1"},de={class:"info-item-compact"},me={class:"text-body-2 ml-1"},ce={class:"info-item-compact"},ue={class:"text-body-2 ml-1"},ge={class:"info-item-compact"},pe={class:"text-body-2 ml-1"},ye={class:"info-item-compact"},fe={class:"text-body-2 ml-1"};function ve(o,e,h,P,l,i){const y=r("v-btn"),c=r("v-card-title"),g=r("v-divider"),p=r("v-progress-circular"),b=r("v-alert"),D=r("v-img"),f=r("v-col"),z=r("v-chip"),C=r("v-row"),x=r("v-card-text"),V=r("v-card"),I=r("v-card-actions"),S=r("v-dialog");return m(),k(S,{"model-value":h.modelValue,"onUpdate:modelValue":e[0]||(e[0]=w=>o.$emit("update:modelValue",w)),"max-width":"700px",persistent:"",scrollable:""},{default:s(()=>[a(V,{class:"category-view-dialog"},{default:s(()=>[a(c,{class:"dialog-header d-flex justify-space-between align-center pa-3"},{default:s(()=>[e[1]||(e[1]=t("span",{class:"text-h6 font-weight-medium"},"Category Details",-1)),a(y,{icon:"mdi-close",variant:"text",size:"small",onClick:i.close},null,8,["onClick"])]),_:1,__:[1]}),a(g),a(x,{class:"pa-3"},{default:s(()=>[l.loading?(m(),_("div",K,[a(p,{indeterminate:"",color:"primary",size:"48"}),e[2]||(e[2]=t("div",{class:"mt-3 text-body-2"},"Loading category details...",-1))])):i.displayCategory?(m(),_("div",X,[e[14]||(e[14]=t("div",{class:"text-subtitle-2 font-weight-medium mb-2"},"Category Information",-1)),a(V,{variant:"outlined",class:"mb-2"},{default:s(()=>[a(x,{class:"pa-2"},{default:s(()=>[a(C,{dense:"",class:"ma-0"},{default:s(()=>[i.displayCategory.image?(m(),k(f,{key:0,cols:"12",sm:"3",class:"pa-2"},{default:s(()=>[t("div",Y,[a(D,{src:i.displayCategory.image,"max-width":"120","max-height":"120",class:"mx-auto",style:{"border-radius":"8px"},cover:""},null,8,["src"])])]),_:1})):F("",!0),a(f,{cols:(i.displayCategory.image,12),sm:i.displayCategory.image?9:12,class:"pa-2"},{default:s(()=>[a(C,{dense:"",class:"ma-0"},{default:s(()=>[a(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[t("div",Z,[e[4]||(e[4]=t("span",{class:"text-caption text-grey"},"ID:",-1)),t("span",$,u(i.displayCategory.id||"-"),1)])]),_:1}),a(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[t("div",ee,[e[5]||(e[5]=t("span",{class:"text-caption text-grey"},"Status:",-1)),a(z,{size:"x-small",color:i.displayCategory.is_active?"success":"error",variant:"tonal",class:"ml-1"},{default:s(()=>[d(u(i.displayCategory.is_active?"Active":"Inactive"),1)]),_:1},8,["color"])])]),_:1}),a(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[t("div",te,[e[6]||(e[6]=t("span",{class:"text-caption text-grey"},"Order:",-1)),t("span",ae,u(i.displayCategory.order||0),1)])]),_:1}),a(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:s(()=>[t("div",oe,[e[7]||(e[7]=t("span",{class:"text-caption text-grey"},"Slug:",-1)),t("span",se,u(i.displayCategory.slug||"-"),1)])]),_:1}),a(f,{cols:"12",class:"pa-2"},{default:s(()=>[t("div",le,[e[8]||(e[8]=t("span",{class:"text-caption text-grey"},"Name:",-1)),t("span",ie,u(i.displayCategory.name||"-"),1)])]),_:1}),i.displayCategory.description?(m(),k(f,{key:0,cols:"12",class:"pa-2"},{default:s(()=>[t("div",re,[e[9]||(e[9]=t("span",{class:"text-caption text-grey"},"Description:",-1)),t("span",ne,u(i.displayCategory.description),1)])]),_:1})):F("",!0)]),_:1})]),_:1},8,["cols","sm"])]),_:1})]),_:1})]),_:1}),a(g,{class:"my-2"}),e[15]||(e[15]=t("div",{class:"text-subtitle-2 font-weight-medium mb-2"},"Audit Information",-1)),a(V,{variant:"outlined",class:"mb-2"},{default:s(()=>[a(x,{class:"pa-2"},{default:s(()=>[a(C,{dense:"",class:"ma-0"},{default:s(()=>[a(f,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>{var w;return[t("div",de,[e[10]||(e[10]=t("span",{class:"text-caption text-grey"},"Created By:",-1)),t("span",me,u(((w=i.displayCategory.created_by)==null?void 0:w.name)||"-"),1)])]}),_:1}),a(f,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>[t("div",ce,[e[11]||(e[11]=t("span",{class:"text-caption text-grey"},"Created At:",-1)),t("span",ue,u(i.formatDateShort(i.displayCategory.created_at)||"-"),1)])]),_:1}),a(f,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>{var w;return[t("div",ge,[e[12]||(e[12]=t("span",{class:"text-caption text-grey"},"Updated By:",-1)),t("span",pe,u(((w=i.displayCategory.updated_by)==null?void 0:w.name)||"-"),1)])]}),_:1}),a(f,{cols:"12",sm:"6",class:"pa-2"},{default:s(()=>[t("div",ye,[e[13]||(e[13]=t("span",{class:"text-caption text-grey"},"Updated At:",-1)),t("span",fe,u(i.formatDateShort(i.displayCategory.updated_at)||"-"),1)])]),_:1})]),_:1})]),_:1})]),_:1})])):(m(),_("div",Q,[a(b,{type:"error",variant:"tonal",class:"ma-3",density:"compact"},{default:s(()=>e[3]||(e[3]=[d(" Failed to load category details ")])),_:1,__:[3]})]))]),_:1}),a(g),a(I,{class:"pa-2 justify-end"},{default:s(()=>[a(y,{variant:"text",size:"small",onClick:i.close},{default:s(()=>e[16]||(e[16]=[d("Close")])),_:1,__:[16]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const _e=N(J,[["render",ve],["__scopeId","data-v-2426277c"]]),he={name:"CategoryDialog",props:{modelValue:{type:Boolean,required:!0},category:{type:Object,default:null}},emits:["update:modelValue","saved"],data(){return{form:this.getEmptyForm(),formValid:!1,saving:!1,imageFile:null,uploadingImage:!1,rules:{required:o=>!!o||"This field is required"}}},computed:{isEdit(){return!!this.form.id}},watch:{category:{immediate:!0,handler(o){if(o){const e=this.normalizeImageInput(o.image||"");this.form={id:o.id,name:o.name||"",slug:o.slug||"",description:o.description||"",image:e,order:o.order||0,is_active:o.is_active!==void 0?o.is_active:!0}}else this.form=this.getEmptyForm();this.imageFile=null}},"form.name"(o){o?this.form.slug=this.generateSlug(o):this.form.slug=""}},methods:{getEmptyForm(){return{id:null,name:"",slug:"",description:"",image:"",order:0,is_active:!0}},generateSlug(o){return o.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},normalizeImageInput(o){return H(o)},resolveImageUrl(o){return W(o)},async handleImageUpload(){var h,P,l,i,y;if(!this.imageFile)return;const o=Array.isArray(this.imageFile)?this.imageFile[0]:this.imageFile;if(!o)return;if(!o.type.startsWith("image/")){(h=this.$toast)==null||h.error("Please select a valid image file"),this.imageFile=null;return}const e=5*1024*1024;if(o.size>e){(P=this.$toast)==null||P.error("File size must be less than 5MB"),this.imageFile=null;return}this.uploadingImage=!0;try{const c=new FormData;c.append("image",o),c.append("folder","products/categories"),this.form.name&&c.append("prefix",this.form.name);const g=localStorage.getItem("admin_token"),p=await O.post("/api/v1/upload/image",c,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"multipart/form-data"}});if(p.data.success){const b=this.normalizeImageInput(p.data.path||p.data.url);this.form.image=b,this.imageFile=null,(l=this.$toast)==null||l.success("Image uploaded successfully")}else throw new Error(p.data.message||"Failed to upload image")}catch(c){console.error("Error uploading image:",c);let g="Failed to upload image";c.response?g=((i=c.response.data)==null?void 0:i.message)||c.response.statusText||g:c.message&&(g=c.message),(y=this.$toast)==null||y.error(g),this.imageFile=null}finally{this.uploadingImage=!1}},clearImage(){this.form.image="",this.imageFile=null},close(){this.$emit("update:modelValue",!1)},async save(){var e,h,P,l,i,y;if(await this.$refs.formRef.validate()){this.saving=!0;try{const c=localStorage.getItem("admin_token"),g=this.isEdit?`/api/v1/categories/${this.form.id}`:"/api/v1/categories",p={...this.form};p.image=this.normalizeImageInput(p.image);const b=this.isEdit?"put":"post";await O[b](g,p,{headers:{Authorization:`Bearer ${c}`}}),(e=this.$toast)==null||e.success(this.isEdit?"Category updated successfully":"Category created successfully"),this.$emit("saved"),this.close()}catch(c){console.error("Error saving category:",c);let g="Error saving category";if((P=(h=c.response)==null?void 0:h.data)!=null&&P.errors){const p=c.response.data.errors,b=[];Object.keys(p).forEach(D=>{b.push(p[D][0])}),g=b.join(", ")}else(i=(l=c.response)==null?void 0:l.data)!=null&&i.message&&(g=c.response.data.message);(y=this.$toast)==null||y.error(g)}finally{this.saving=!1}}}}},Ce={class:"text-h6 font-weight-medium"},xe={class:"mb-4"},be={key:0,class:"mb-3 text-center"};function we(o,e,h,P,l,i){const y=r("v-btn"),c=r("v-card-title"),g=r("v-divider"),p=r("v-text-field"),b=r("v-textarea"),D=r("v-img"),f=r("v-avatar"),z=r("v-progress-circular"),C=r("v-file-input"),x=r("v-switch"),V=r("v-form"),I=r("v-card-text"),S=r("v-card-actions"),w=r("v-card"),E=r("v-dialog");return m(),k(E,{"model-value":h.modelValue,"onUpdate:modelValue":e[7]||(e[7]=v=>o.$emit("update:modelValue",v)),"max-width":"700px",persistent:"",scrollable:""},{default:s(()=>[a(w,{class:"category-dialog"},{default:s(()=>[a(c,{class:"dialog-header d-flex justify-space-between align-center pa-3"},{default:s(()=>[t("span",Ce,u(i.isEdit?"Edit Category":"Add New Category"),1),a(y,{icon:"mdi-close",variant:"text",size:"small",onClick:i.close},null,8,["onClick"])]),_:1}),a(g),a(I,{class:"pa-3"},{default:s(()=>[a(V,{ref:"formRef",modelValue:l.formValid,"onUpdate:modelValue":e[6]||(e[6]=v=>l.formValid=v),"lazy-validation":""},{default:s(()=>[a(p,{modelValue:l.form.name,"onUpdate:modelValue":e[0]||(e[0]=v=>l.form.name=v),placeholder:"Enter category name (e.g., Electronics, Clothing)",rules:[l.rules.required],required:"",variant:"outlined",density:"comfortable","hide-details":"auto",hint:"Enter the category name as it should appear in the system","persistent-hint":"",class:"mb-4"},{label:s(()=>e[8]||(e[8]=[d(" Category Name "),t("span",{class:"text-error",style:{"font-size":"1.2em","font-weight":"bold"}},"*",-1)])),_:1},8,["modelValue","rules"]),a(p,{modelValue:l.form.slug,"onUpdate:modelValue":e[1]||(e[1]=v=>l.form.slug=v),label:"Slug",placeholder:"Auto-generated from category name",hint:"Auto-generated from category name (read-only)","persistent-hint":"",variant:"outlined",density:"comfortable","hide-details":"auto",readonly:"",class:"mb-4"},null,8,["modelValue"]),a(p,{modelValue:l.form.order,"onUpdate:modelValue":e[2]||(e[2]=v=>l.form.order=v),modelModifiers:{number:!0},label:"Display Order",type:"number",min:"0",placeholder:"Enter display order (e.g., 0, 1, 2)",hint:"Lower numbers appear first in the category list","persistent-hint":"",variant:"outlined",density:"comfortable","hide-details":"auto",class:"mb-4"},null,8,["modelValue"]),a(b,{modelValue:l.form.description,"onUpdate:modelValue":e[3]||(e[3]=v=>l.form.description=v),label:"Description",placeholder:"Enter a brief description about the category (optional)",variant:"outlined",density:"comfortable",rows:"3",hint:"Optional: Brief description about the category","persistent-hint":"","hide-details":"auto",class:"mb-4"},null,8,["modelValue"]),t("div",xe,[e[10]||(e[10]=t("div",{class:"text-subtitle-2 font-weight-medium mb-2"},"Category Image",-1)),l.form.image?(m(),_("div",be,[a(f,{size:"120",class:"mb-2"},{default:s(()=>[a(D,{src:l.form.image?i.resolveImageUrl(l.form.image):"",alt:"Category Preview"},null,8,["src"])]),_:1}),t("div",null,[a(y,{size:"small",variant:"text",color:"error","prepend-icon":"mdi-delete",onClick:i.clearImage},{default:s(()=>e[9]||(e[9]=[d("Remove Image")])),_:1,__:[9]},8,["onClick"])])])):F("",!0),a(C,{modelValue:l.imageFile,"onUpdate:modelValue":[e[4]||(e[4]=v=>l.imageFile=v),i.handleImageUpload],label:"Upload Image",variant:"outlined",density:"comfortable",color:"primary",accept:"image/*","prepend-icon":"mdi-image",hint:"Upload a category image (JPG, PNG, GIF, WebP - Max 5MB)","persistent-hint":"","show-size":""},R({_:2},[l.uploadingImage?{name:"append-inner",fn:s(()=>[a(z,{indeterminate:"",size:"20",color:"primary"})]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"])]),a(x,{modelValue:l.form.is_active,"onUpdate:modelValue":e[5]||(e[5]=v=>l.form.is_active=v),label:"Active Category",color:"success",class:"mb-4"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),a(g),a(S,{class:"pa-2 justify-end"},{default:s(()=>[a(y,{variant:"text",size:"small",onClick:i.close},{default:s(()=>e[11]||(e[11]=[d("Cancel")])),_:1,__:[11]},8,["onClick"]),a(y,{color:"primary",size:"small",loading:l.saving,onClick:i.save},{default:s(()=>[d(u(i.isEdit?"Update":"Create"),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const ke=N(he,[["render",we],["__scopeId","data-v-7e301359"]]),Pe={components:{PaginationControls:T,CategoryViewDialog:_e,CategoryDialog:ke},mixins:[L],data(){return{categories:[],activeFilter:null,activeOptions:[{title:"Active",value:!0},{title:"Inactive",value:!1}],dialog:!1,editingCategory:null,viewDialog:!1,selectedCategory:null,currentPage:U.currentPage,perPage:U.perPage,perPageOptions:U.perPageOptions,pagination:{...U.pagination}}},async mounted(){await this.loadCategories()},methods:{async loadCategories(){try{this.loading=!0;const o=this.buildPaginationParams();this.perPage==="all"&&(o.per_page=999999),this.search&&(o.search=this.search),this.activeFilter!==null&&(o.is_active=this.activeFilter);const e=await this.$axios.get("/api/v1/categories",{params:o,headers:this.getAuthHeaders()});this.categories=e.data.data||[],this.updatePagination(e.data)}catch(o){this.handleApiError(o,"Failed to load categories")}finally{this.loading=!1}},openDialog(o){this.editingCategory=o,this.dialog=!0},handleCategorySaved(){this.loadCategories()},openViewDialog(o){this.selectedCategory=o,this.viewDialog=!0},async deleteCategory(o){if(confirm(`Are you sure you want to delete ${o.name}?`))try{const e=localStorage.getItem("admin_token");await this.$axios.delete(`/api/v1/categories/${o.id}`,{headers:{Authorization:`Bearer ${e}`}}),this.showSuccess("Category deleted successfully"),await this.loadCategories()}catch(e){this.handleApiError(e,"Error deleting category")}},buildPaginationParams(o={}){return A.buildPaginationParams(this.currentPage,this.perPage,o,this.sortBy,this.sortDirection)},updatePagination(o){A.updatePagination(this,o)},resetPagination(){A.resetPagination(this)},onPerPageChange(){this.resetPagination(),this.loadCategories()},onPerPageUpdate(o){this.perPage=o,this.onPerPageChange()},onPageChange(o){this.currentPage=o,this.loadCategories()},onSort(o){this.handleSort(o),this.currentPage=1,this.loadCategories()},isSortingBy(o){return this.sortBy===o},getSortDirection(o){return this.sortBy===o?this.sortDirection:null}}},Ve={class:"page-header"},De={class:"text-caption text-grey"},ze={class:"sortable-header"},Ie={class:"sortable-header"},Se={class:"sortable-header"},Ue={class:"d-flex"},Fe={class:"d-flex align-center"},Ee={key:1,class:"text-caption text-grey"},Ae={key:0},Be={class:"d-flex flex-column flex-md-row justify-space-between align-center align-md-start gap-3 mt-4"},Oe={class:"text-caption text-grey"},Ne={key:0},je={key:0},Me={key:1},qe={key:1};function Le(o,e,h,P,l,i){const y=r("v-btn"),c=r("v-select"),g=r("v-col"),p=r("v-text-field"),b=r("v-row"),D=r("v-card-text"),f=r("v-card"),z=r("v-card-title"),C=r("v-icon"),x=r("v-skeleton-loader"),V=r("v-chip"),I=r("v-img"),S=r("v-avatar"),w=r("v-table"),E=r("PaginationControls"),v=r("CategoryViewDialog"),q=r("CategoryDialog");return m(),_("div",null,[t("div",Ve,[e[10]||(e[10]=t("h1",{class:"text-h4 page-title"},"Category Management",-1)),a(y,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=n=>i.openDialog(null)),class:"add-button"},{default:s(()=>e[9]||(e[9]=[d(" Add New Category ")])),_:1,__:[9]})]),a(f,{class:"mb-4"},{default:s(()=>[a(D,null,{default:s(()=>[a(b,null,{default:s(()=>[a(g,{cols:"12",md:"4"},{default:s(()=>[a(c,{modelValue:l.activeFilter,"onUpdate:modelValue":[e[1]||(e[1]=n=>l.activeFilter=n),i.loadCategories],items:l.activeOptions,label:"Filter by Status",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),a(g,{cols:"12",md:"8"},{default:s(()=>[a(p,{modelValue:o.search,"onUpdate:modelValue":e[2]||(e[2]=n=>o.search=n),label:"Search by name, slug","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"",onInput:i.loadCategories},null,8,["modelValue","onInput"])]),_:1})]),_:1})]),_:1})]),_:1}),a(f,null,{default:s(()=>[a(z,{class:"d-flex justify-space-between align-center"},{default:s(()=>[e[12]||(e[12]=t("span",null,"Categories",-1)),t("span",De,[e[11]||(e[11]=d(" Total Records: ")),t("strong",null,u(l.pagination.total||0),1)])]),_:1,__:[12]}),a(D,null,{default:s(()=>[a(w,null,{default:s(()=>[t("thead",null,[t("tr",null,[t("th",{class:"sortable",onClick:e[3]||(e[3]=n=>i.onSort("name"))},[t("div",ze,[e[14]||(e[14]=t("span",null,"Name",-1)),o.sortBy==="name"?(m(),k(C,{key:0,size:"18",class:"sort-icon active"},{default:s(()=>[d(u(o.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(m(),k(C,{key:1,size:"18",class:"sort-icon inactive"},{default:s(()=>e[13]||(e[13]=[d(" mdi-unfold-more-horizontal ")])),_:1,__:[13]}))])]),t("th",{class:"sortable",onClick:e[4]||(e[4]=n=>i.onSort("slug"))},[t("div",Ie,[e[16]||(e[16]=t("span",null,"Slug",-1)),o.sortBy==="slug"?(m(),k(C,{key:0,size:"18",class:"sort-icon active"},{default:s(()=>[d(u(o.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(m(),k(C,{key:1,size:"18",class:"sort-icon inactive"},{default:s(()=>e[15]||(e[15]=[d(" mdi-unfold-more-horizontal ")])),_:1,__:[15]}))])]),e[19]||(e[19]=t("th",null,"Image",-1)),t("th",{class:"sortable",onClick:e[5]||(e[5]=n=>i.onSort("order"))},[t("div",Se,[e[18]||(e[18]=t("span",null,"Order",-1)),o.sortBy==="order"?(m(),k(C,{key:0,size:"18",class:"sort-icon active"},{default:s(()=>[d(u(o.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(m(),k(C,{key:1,size:"18",class:"sort-icon inactive"},{default:s(()=>e[17]||(e[17]=[d(" mdi-unfold-more-horizontal ")])),_:1,__:[17]}))])]),e[20]||(e[20]=t("th",null,"Status",-1)),e[21]||(e[21]=t("th",null,"Actions",-1))])]),t("tbody",null,[o.loading?(m(),_(B,{key:0},M(5,n=>t("tr",{key:`skeleton-${n}`},[t("td",null,[a(x,{type:"text",width:"150"})]),t("td",null,[a(x,{type:"text",width:"120"})]),t("td",null,[a(x,{type:"image",width:"50",height:"50"})]),t("td",null,[a(x,{type:"text",width:"40"})]),t("td",null,[a(x,{type:"chip",width:"80",height:"24"})]),t("td",null,[t("div",Ue,[a(x,{type:"button",width:"32",height:"32",class:"mr-1"}),a(x,{type:"button",width:"32",height:"32"})])])])),64)):(m(),_(B,{key:1},[(m(!0),_(B,null,M(l.categories,n=>(m(),_("tr",{key:n.id},[t("td",null,[t("div",Fe,[a(C,{size:"small",color:"primary",class:"mr-2"},{default:s(()=>e[22]||(e[22]=[d(" mdi-folder ")])),_:1,__:[22]}),d(" "+u(n.name),1)])]),t("td",null,[a(V,{size:"small",variant:"outlined"},{default:s(()=>[d(u(n.slug),1)]),_:2},1024)]),t("td",null,[n.image?(m(),k(S,{key:0,size:"50"},{default:s(()=>[a(I,{src:n.image,alt:n.name},null,8,["src","alt"])]),_:2},1024)):(m(),_("span",Ee,"-"))]),t("td",null,[a(V,{size:"small",color:"grey-lighten-2"},{default:s(()=>[d(u(n.order||0),1)]),_:2},1024)]),t("td",null,[a(V,{color:n.is_active?"success":"error",size:"small"},{default:s(()=>[d(u(n.is_active?"Active":"Inactive"),1)]),_:2},1032,["color"])]),t("td",null,[a(y,{size:"small",icon:"mdi-eye",onClick:j=>i.openViewDialog(n),variant:"text",color:"info",title:"View Category Details"},null,8,["onClick"]),a(y,{size:"small",icon:"mdi-pencil",onClick:j=>i.openDialog(n),variant:"text",title:"Edit Category"},null,8,["onClick"]),a(y,{size:"small",icon:"mdi-delete",onClick:j=>i.deleteCategory(n),variant:"text",color:"error",title:"Delete Category"},null,8,["onClick"])])]))),128)),l.categories.length===0?(m(),_("tr",Ae,e[23]||(e[23]=[t("td",{colspan:"6",class:"text-center py-4"},"No categories found",-1)]))):F("",!0)],64))])]),_:1}),t("div",Be,[t("div",Oe,[l.categories.length>0&&l.pagination.total>0?(m(),_("span",Ne,[l.perPage==="all"?(m(),_("span",je,[e[24]||(e[24]=d(" Showing ")),t("strong",null,"all "+u(l.pagination.total.toLocaleString()),1),e[25]||(e[25]=d(" records "))])):(m(),_("span",Me,[e[26]||(e[26]=d(" Showing ")),t("strong",null,u((l.currentPage-1)*l.perPage+1),1),e[27]||(e[27]=d(" to ")),t("strong",null,u(Math.min(l.currentPage*l.perPage,l.pagination.total)),1),e[28]||(e[28]=d(" of ")),t("strong",null,u(l.pagination.total.toLocaleString()),1),e[29]||(e[29]=d(" records "))]))])):(m(),_("span",qe,"No records found"))]),a(E,{modelValue:l.currentPage,"onUpdate:modelValue":e[6]||(e[6]=n=>l.currentPage=n),pagination:l.pagination,"per-page-value":l.perPage,"per-page-options":l.perPageOptions,"onUpdate:perPage":i.onPerPageUpdate,onPageChange:i.onPageChange},null,8,["modelValue","pagination","per-page-value","per-page-options","onUpdate:perPage","onPageChange"])])]),_:1})]),_:1}),a(v,{modelValue:l.viewDialog,"onUpdate:modelValue":e[7]||(e[7]=n=>l.viewDialog=n),category:l.selectedCategory},null,8,["modelValue","category"]),a(q,{modelValue:l.dialog,"onUpdate:modelValue":e[8]||(e[8]=n=>l.dialog=n),category:l.editingCategory,onSaved:i.handleCategorySaved},null,8,["modelValue","category","onSaved"])])}const Je=N(Pe,[["render",Le],["__scopeId","data-v-19a120d4"]]);export{Je as default};
