import{_ as B,d as c,w as a,a as s,r as n,b as t,t as m,f as r,o as d,A as z,c as h,e as y,F as U,y as I}from"./app-CYStQJ0f.js";import{c as E}from"./commonMixin-LD1l2-5e.js";import{p as N,P as j}from"./PaginationControls-CGFLaHsK.js";import{f as L}from"./formatters-DzU97YYy.js";const T={name:"WarehouseDialog",props:{modelValue:{type:Boolean,default:!1},warehouse:{type:Object,default:null},saving:{type:Boolean,default:!1}},emits:["update:modelValue","save"],data(){return{formValid:!1,localForm:this.getEmptyForm(),rules:{required:l=>!!l||"Required"}}},computed:{isEdit(){return!!this.localForm.id}},watch:{modelValue(l){l&&(this.warehouse?this.localForm={...this.warehouse}:this.localForm=this.getEmptyForm())},warehouse:{handler(l){l&&this.modelValue&&(this.localForm={...l})},deep:!0}},methods:{getEmptyForm(){return{id:null,name:"",code:"",phone:"",email:"",address:"",city:"",state:"",postal_code:"",country:"",is_active:!0}},async handleSave(){(await this.$refs.formRef.validate()).valid&&this.$emit("save",{...this.localForm})}}},q={class:"text-h6"};function R(l,e,w,D,u,i){const p=n("v-btn"),x=n("v-card-title"),C=n("v-divider"),_=n("v-text-field"),v=n("v-col"),F=n("v-switch"),f=n("v-textarea"),g=n("v-row"),b=n("v-form"),V=n("v-card-text"),k=n("v-spacer"),S=n("v-card-actions"),P=n("v-card"),W=n("v-dialog");return d(),c(W,{"model-value":w.modelValue,"onUpdate:modelValue":e[13]||(e[13]=o=>l.$emit("update:modelValue",o)),"max-width":"600px",persistent:""},{default:a(()=>[s(P,null,{default:a(()=>[s(x,{class:"pa-3 d-flex justify-space-between align-center"},{default:a(()=>[t("span",q,m(i.isEdit?"Edit Warehouse":"Add Warehouse"),1),s(p,{icon:"mdi-close",variant:"text",size:"small",onClick:e[0]||(e[0]=o=>l.$emit("update:modelValue",!1))})]),_:1}),s(C),s(V,{class:"pa-3"},{default:a(()=>[s(b,{ref:"formRef",modelValue:u.formValid,"onUpdate:modelValue":e[11]||(e[11]=o=>u.formValid=o)},{default:a(()=>[s(g,{dense:"",class:"ma-0"},{default:a(()=>[s(v,{cols:"12",sm:"8",class:"pa-2"},{default:a(()=>[s(_,{modelValue:u.localForm.name,"onUpdate:modelValue":e[1]||(e[1]=o=>u.localForm.name=o),label:"Warehouse Name *",density:"compact",variant:"outlined","hide-details":"auto",rules:[u.rules.required]},null,8,["modelValue","rules"])]),_:1}),s(v,{cols:"12",sm:"4",class:"pa-2"},{default:a(()=>[s(F,{modelValue:u.localForm.is_active,"onUpdate:modelValue":e[2]||(e[2]=o=>u.localForm.is_active=o),label:"Active",color:"primary",density:"compact","hide-details":"",class:"mt-2"},null,8,["modelValue"])]),_:1}),s(v,{cols:"12",class:"pa-2"},{default:a(()=>[s(_,{modelValue:u.localForm.code,"onUpdate:modelValue":e[3]||(e[3]=o=>u.localForm.code=o),label:"Warehouse Code",density:"compact",variant:"outlined","hide-details":"auto",hint:"Unique identifier","persistent-hint":""},null,8,["modelValue"])]),_:1}),s(v,{cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[s(_,{modelValue:u.localForm.phone,"onUpdate:modelValue":e[4]||(e[4]=o=>u.localForm.phone=o),label:"Phone",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(v,{cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[s(_,{modelValue:u.localForm.email,"onUpdate:modelValue":e[5]||(e[5]=o=>u.localForm.email=o),label:"Email",type:"email",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(v,{cols:"12",class:"pa-2"},{default:a(()=>[s(f,{modelValue:u.localForm.address,"onUpdate:modelValue":e[6]||(e[6]=o=>u.localForm.address=o),label:"Address",density:"compact",variant:"outlined",rows:"2","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(v,{cols:"12",sm:"4",class:"pa-2"},{default:a(()=>[s(_,{modelValue:u.localForm.city,"onUpdate:modelValue":e[7]||(e[7]=o=>u.localForm.city=o),label:"City",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(v,{cols:"12",sm:"4",class:"pa-2"},{default:a(()=>[s(_,{modelValue:u.localForm.state,"onUpdate:modelValue":e[8]||(e[8]=o=>u.localForm.state=o),label:"State/Province",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(v,{cols:"12",sm:"4",class:"pa-2"},{default:a(()=>[s(_,{modelValue:u.localForm.postal_code,"onUpdate:modelValue":e[9]||(e[9]=o=>u.localForm.postal_code=o),label:"Postal Code",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),s(v,{cols:"12",class:"pa-2"},{default:a(()=>[s(_,{modelValue:u.localForm.country,"onUpdate:modelValue":e[10]||(e[10]=o=>u.localForm.country=o),label:"Country",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(C),s(S,{class:"pa-3"},{default:a(()=>[s(k),s(p,{variant:"text",density:"compact",onClick:e[12]||(e[12]=o=>l.$emit("update:modelValue",!1))},{default:a(()=>e[14]||(e[14]=[r("Cancel")])),_:1,__:[14]}),s(p,{color:"primary",loading:w.saving,density:"compact",onClick:i.handleSave},{default:a(()=>[r(m(i.isEdit?"Update":"Save"),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const M=B(T,[["render",R]]),O={name:"WarehouseViewDialog",props:{modelValue:{type:Boolean,default:!1},warehouse:{type:Object,default:null}},emits:["update:modelValue"],data(){return{loading:!1,warehouseData:null}},computed:{displayWarehouse(){return this.warehouseData||this.warehouse},hasAddressInfo(){return this.displayWarehouse?!!(this.displayWarehouse.address||this.displayWarehouse.city||this.displayWarehouse.state||this.displayWarehouse.postal_code||this.displayWarehouse.country):!1},hasSystemInfo(){return this.displayWarehouse?!!(this.displayWarehouse.created_at||this.displayWarehouse.updated_at||this.displayWarehouse.created_by||this.displayWarehouse.updated_by):!1}},watch:{modelValue(l){l&&this.warehouse&&this.warehouse.id?this.loadWarehouseDetails():this.warehouseData=null},warehouse:{immediate:!0,handler(l){l&&l.id&&this.modelValue?this.loadWarehouseDetails():this.warehouseData=null}}},methods:{async loadWarehouseDetails(){var l,e;if((l=this.warehouse)!=null&&l.id){this.loading=!0;try{const w=localStorage.getItem("admin_token"),D=await z.get(`/api/v1/warehouses/${this.warehouse.id}`,{headers:{Authorization:`Bearer ${w}`}});this.warehouseData=D.data.warehouse||D.data}catch(w){console.error("Failed to load warehouse details",w),(e=this.$toast)==null||e.error("Failed to load warehouse details")}finally{this.loading=!1}}},formatDateShort:L,close(){this.$emit("update:modelValue",!1)}}},Y={class:"d-flex align-center gap-2"},G={key:0,class:"text-center py-8"},H={key:1,class:"text-center py-8"},J={key:2},K={class:"text-subtitle-2 font-weight-medium mb-2 d-flex align-center"},Q={class:"info-item-compact"},X={class:"text-body-2 font-weight-medium ml-1"},Z={class:"info-item-compact"},$={class:"info-item-compact"},ee={class:"text-body-2 font-weight-medium ml-1"},te={class:"info-item-compact"},se={class:"text-body-2 font-weight-medium ml-1"},ae={class:"text-subtitle-2 font-weight-medium mb-2 d-flex align-center"},le={class:"info-item-compact"},oe={class:"text-body-2 ml-1"},ie={class:"info-item-compact"},ne={class:"text-body-2 ml-1"},de={class:"text-subtitle-2 font-weight-medium mb-2 d-flex align-center"},re={class:"info-item-compact"},ue={class:"text-body-2 ml-1"},me={class:"info-item-compact"},ce={class:"text-body-2 ml-1"},pe={class:"info-item-compact"},fe={class:"text-body-2 ml-1"},ye={class:"info-item-compact"},_e={class:"text-body-2 ml-1"},ve={class:"info-item-compact"},he={class:"text-body-2 ml-1"},ge={class:"text-subtitle-2 font-weight-medium mb-2 d-flex align-center"},we={class:"info-item-compact"},We={class:"text-body-2 ml-1"},xe={class:"info-item-compact"},be={class:"text-body-2 ml-1"},Ve={class:"info-item-compact"},ke={class:"text-body-2 ml-1"},Ce={class:"info-item-compact"},Fe={class:"text-body-2 ml-1"};function De(l,e,w,D,u,i){const p=n("v-icon"),x=n("v-btn"),C=n("v-card-title"),_=n("v-divider"),v=n("v-progress-circular"),F=n("v-alert"),f=n("v-col"),g=n("v-chip"),b=n("v-row"),V=n("v-card-text"),k=n("v-card"),S=n("v-card-actions"),P=n("v-dialog");return d(),c(P,{"model-value":w.modelValue,"onUpdate:modelValue":e[0]||(e[0]=W=>l.$emit("update:modelValue",W)),"max-width":"700px",persistent:"",scrollable:""},{default:a(()=>[s(k,{class:"warehouse-view-dialog"},{default:a(()=>[s(C,{class:"dialog-header d-flex justify-space-between align-center pa-3"},{default:a(()=>[t("div",Y,[s(p,{color:"primary"},{default:a(()=>e[1]||(e[1]=[r("mdi-warehouse")])),_:1,__:[1]}),e[2]||(e[2]=t("span",{class:"text-h6 font-weight-medium"},"Warehouse Details",-1))]),s(x,{icon:"mdi-close",variant:"text",size:"small",onClick:i.close},null,8,["onClick"])]),_:1}),s(_),s(V,{class:"pa-3"},{default:a(()=>[u.loading?(d(),h("div",G,[s(v,{indeterminate:"",color:"primary",size:"48"}),e[3]||(e[3]=t("div",{class:"mt-3 text-body-2"},"Loading warehouse details...",-1))])):i.displayWarehouse?(d(),h("div",J,[t("div",K,[s(p,{size:"small",class:"mr-1"},{default:a(()=>e[5]||(e[5]=[r("mdi-information")])),_:1,__:[5]}),e[6]||(e[6]=r(" Basic Information "))]),s(k,{variant:"outlined",class:"mb-3"},{default:a(()=>[s(V,{class:"pa-3"},{default:a(()=>[s(b,{dense:"",class:"ma-0"},{default:a(()=>[s(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",Q,[e[7]||(e[7]=t("span",{class:"text-caption text-grey"},"ID:",-1)),t("span",X,m(i.displayWarehouse.id||"-"),1)])]),_:1}),s(f,{cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",Z,[e[8]||(e[8]=t("span",{class:"text-caption text-grey"},"Status:",-1)),s(g,{size:"x-small",color:i.displayWarehouse.is_active?"success":"error",variant:"tonal",class:"ml-1"},{default:a(()=>[r(m(i.displayWarehouse.is_active?"Active":"Inactive"),1)]),_:1},8,["color"])])]),_:1}),i.displayWarehouse.code?(d(),c(f,{key:0,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",$,[e[9]||(e[9]=t("span",{class:"text-caption text-grey"},"Code:",-1)),t("span",ee,m(i.displayWarehouse.code),1)])]),_:1})):y("",!0),s(f,{cols:"12",class:"pa-2"},{default:a(()=>[t("div",te,[e[10]||(e[10]=t("span",{class:"text-caption text-grey"},"Name:",-1)),t("span",se,m(i.displayWarehouse.name||"-"),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",ae,[s(p,{size:"small",class:"mr-1"},{default:a(()=>e[11]||(e[11]=[r("mdi-phone")])),_:1,__:[11]}),e[12]||(e[12]=r(" Contact Information "))]),s(k,{variant:"outlined",class:"mb-3"},{default:a(()=>[s(V,{class:"pa-3"},{default:a(()=>[s(b,{dense:"",class:"ma-0"},{default:a(()=>[i.displayWarehouse.phone?(d(),c(f,{key:0,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[t("div",le,[s(p,{size:"small",color:"primary",class:"mr-1"},{default:a(()=>e[13]||(e[13]=[r("mdi-phone")])),_:1,__:[13]}),e[14]||(e[14]=t("span",{class:"text-caption text-grey"},"Phone:",-1)),t("span",oe,m(i.displayWarehouse.phone),1)])]),_:1})):y("",!0),i.displayWarehouse.email?(d(),c(f,{key:1,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[t("div",ie,[s(p,{size:"small",color:"primary",class:"mr-1"},{default:a(()=>e[15]||(e[15]=[r("mdi-email")])),_:1,__:[15]}),e[16]||(e[16]=t("span",{class:"text-caption text-grey"},"Email:",-1)),t("span",ne,m(i.displayWarehouse.email),1)])]),_:1})):y("",!0),!i.displayWarehouse.phone&&!i.displayWarehouse.email?(d(),c(f,{key:2,cols:"12",class:"pa-2"},{default:a(()=>e[17]||(e[17]=[t("div",{class:"text-body-2 text-grey"},"No contact information available",-1)])),_:1,__:[17]})):y("",!0)]),_:1})]),_:1})]),_:1}),t("div",de,[s(p,{size:"small",class:"mr-1"},{default:a(()=>e[18]||(e[18]=[r("mdi-map-marker")])),_:1,__:[18]}),e[19]||(e[19]=r(" Address Information "))]),s(k,{variant:"outlined",class:"mb-3"},{default:a(()=>[s(V,{class:"pa-3"},{default:a(()=>[s(b,{dense:"",class:"ma-0"},{default:a(()=>[i.displayWarehouse.address?(d(),c(f,{key:0,cols:"12",class:"pa-2"},{default:a(()=>[t("div",re,[s(p,{size:"small",color:"primary",class:"mr-1"},{default:a(()=>e[20]||(e[20]=[r("mdi-home")])),_:1,__:[20]}),e[21]||(e[21]=t("span",{class:"text-caption text-grey"},"Address:",-1)),t("span",ue,m(i.displayWarehouse.address),1)])]),_:1})):y("",!0),i.displayWarehouse.city?(d(),c(f,{key:1,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",me,[e[22]||(e[22]=t("span",{class:"text-caption text-grey"},"City:",-1)),t("span",ce,m(i.displayWarehouse.city),1)])]),_:1})):y("",!0),i.displayWarehouse.state?(d(),c(f,{key:2,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",pe,[e[23]||(e[23]=t("span",{class:"text-caption text-grey"},"State/Province:",-1)),t("span",fe,m(i.displayWarehouse.state),1)])]),_:1})):y("",!0),i.displayWarehouse.postal_code?(d(),c(f,{key:3,cols:"12",sm:"6",md:"4",class:"pa-2"},{default:a(()=>[t("div",ye,[e[24]||(e[24]=t("span",{class:"text-caption text-grey"},"Postal Code:",-1)),t("span",_e,m(i.displayWarehouse.postal_code),1)])]),_:1})):y("",!0),i.displayWarehouse.country?(d(),c(f,{key:4,cols:"12",class:"pa-2"},{default:a(()=>[t("div",ve,[s(p,{size:"small",color:"primary",class:"mr-1"},{default:a(()=>e[25]||(e[25]=[r("mdi-earth")])),_:1,__:[25]}),e[26]||(e[26]=t("span",{class:"text-caption text-grey"},"Country:",-1)),t("span",he,m(i.displayWarehouse.country),1)])]),_:1})):y("",!0),i.hasAddressInfo?y("",!0):(d(),c(f,{key:5,cols:"12",class:"pa-2"},{default:a(()=>e[27]||(e[27]=[t("div",{class:"text-body-2 text-grey"},"No address information available",-1)])),_:1,__:[27]}))]),_:1})]),_:1})]),_:1}),i.hasSystemInfo?(d(),h(U,{key:0},[s(_,{class:"my-2"}),t("div",ge,[s(p,{size:"small",class:"mr-1"},{default:a(()=>e[28]||(e[28]=[r("mdi-clock-outline")])),_:1,__:[28]}),e[29]||(e[29]=r(" System Information "))]),s(k,{variant:"outlined",class:"mb-2"},{default:a(()=>[s(V,{class:"pa-3"},{default:a(()=>[s(b,{dense:"",class:"ma-0"},{default:a(()=>[i.displayWarehouse.created_by?(d(),c(f,{key:0,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>{var W;return[t("div",we,[e[30]||(e[30]=t("span",{class:"text-caption text-grey"},"Created By:",-1)),t("span",We,m(((W=i.displayWarehouse.created_by)==null?void 0:W.name)||"-"),1)])]}),_:1})):y("",!0),i.displayWarehouse.created_at?(d(),c(f,{key:1,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[t("div",xe,[e[31]||(e[31]=t("span",{class:"text-caption text-grey"},"Created At:",-1)),t("span",be,m(i.formatDateShort(i.displayWarehouse.created_at)||"-"),1)])]),_:1})):y("",!0),i.displayWarehouse.updated_by?(d(),c(f,{key:2,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>{var W;return[t("div",Ve,[e[32]||(e[32]=t("span",{class:"text-caption text-grey"},"Updated By:",-1)),t("span",ke,m(((W=i.displayWarehouse.updated_by)==null?void 0:W.name)||"-"),1)])]}),_:1})):y("",!0),i.displayWarehouse.updated_at?(d(),c(f,{key:3,cols:"12",sm:"6",class:"pa-2"},{default:a(()=>[t("div",Ce,[e[33]||(e[33]=t("span",{class:"text-caption text-grey"},"Updated At:",-1)),t("span",Fe,m(i.formatDateShort(i.displayWarehouse.updated_at)||"-"),1)])]),_:1})):y("",!0)]),_:1})]),_:1})]),_:1})],64)):y("",!0)])):(d(),h("div",H,[s(F,{type:"error",variant:"tonal",class:"ma-3",density:"compact"},{default:a(()=>e[4]||(e[4]=[r(" Failed to load warehouse details ")])),_:1,__:[4]})]))]),_:1}),s(_),s(S,{class:"pa-2 justify-end"},{default:a(()=>[s(x,{variant:"text",size:"small",onClick:i.close},{default:a(()=>e[34]||(e[34]=[r("Close")])),_:1,__:[34]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value"])}const Se=B(O,[["render",De],["__scopeId","data-v-8cfeeb09"]]),Pe={name:"AdminWarehouses",components:{PaginationControls:j,WarehouseDialog:M,WarehouseViewDialog:Se},mixins:[E,N],data(){return{warehouses:[],dialog:!1,viewDialog:!1,saving:!1,selectedWarehouse:null}},async mounted(){await this.loadWarehouses()},methods:{async loadWarehouses(){try{this.loading=!0;const l=this.buildPaginationParams();this.perPage==="all"&&(l.per_page=999999),this.search&&(l.search=this.search);const e=await z.get("/api/v1/warehouses",{params:l});this.warehouses=e.data.data||[],this.updatePagination(e.data)}catch(l){this.handleApiError(l,"Failed to load warehouses")}finally{this.loading=!1}},openDialog(){this.selectedWarehouse=null,this.dialog=!0},editWarehouse(l){this.selectedWarehouse=l,this.dialog=!0},viewWarehouse(l){this.selectedWarehouse=l,this.viewDialog=!0},async handleSave(l){this.saving=!0;try{l.id?(await z.put(`/api/v1/warehouses/${l.id}`,l),this.showSuccess("Warehouse updated successfully")):(await z.post("/api/v1/warehouses",l),this.showSuccess("Warehouse created successfully")),this.dialog=!1,this.selectedWarehouse=null,await this.loadWarehouses()}catch(e){this.handleApiError(e,"Failed to save warehouse")}finally{this.saving=!1}},async confirmDelete(l){if((await window.Swal.fire({title:"Are you sure?",text:`Do you want to delete "${l.name}"? This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",reverseButtons:!0})).isConfirmed)try{await z.delete(`/api/v1/warehouses/${l.id}`),await window.Swal.fire({icon:"success",title:"Deleted!",text:"Warehouse has been deleted successfully.",timer:2e3,showConfirmButton:!1}),await this.loadWarehouses()}catch(w){this.handleApiError(w,"Failed to delete warehouse")}},onPageChange(l){this.currentPage=l,this.loadWarehouses()},onSearch(){this.resetPagination(),this.loadWarehouses()}}},ze={class:"d-flex align-center gap-2"},Ue={class:"text-caption text-grey"},Be={class:"sortable-header"},Ae={class:"sortable-header"},Ie={class:"sortable-header"},Ee={class:"sortable-header"},Ne={class:"d-flex"},je={key:1,class:"text-caption text-grey"},Le={key:0},Te={class:"d-flex flex-column flex-md-row justify-space-between align-center align-md-start gap-3 mt-4"},qe={class:"text-caption text-grey"},Re={key:0},Me={key:0},Oe={key:1},Ye={key:1};function Ge(l,e,w,D,u,i){const p=n("v-icon"),x=n("v-btn"),C=n("v-card-title"),_=n("v-divider"),v=n("v-text-field"),F=n("v-card-text"),f=n("v-card"),g=n("v-skeleton-loader"),b=n("v-chip"),V=n("v-table"),k=n("PaginationControls"),S=n("WarehouseDialog"),P=n("WarehouseViewDialog"),W=n("v-container");return d(),c(W,{fluid:""},{default:a(()=>[s(f,null,{default:a(()=>[s(C,{class:"d-flex justify-space-between align-center"},{default:a(()=>[t("div",ze,[s(p,null,{default:a(()=>e[8]||(e[8]=[r("mdi-warehouse")])),_:1,__:[8]}),e[9]||(e[9]=t("span",{class:"text-h5"},"Warehouses",-1))]),s(x,{color:"primary","prepend-icon":"mdi-plus",onClick:i.openDialog},{default:a(()=>e[10]||(e[10]=[r("Add Warehouse")])),_:1,__:[10]},8,["onClick"])]),_:1}),s(_),s(F,null,{default:a(()=>[s(v,{modelValue:l.search,"onUpdate:modelValue":e[0]||(e[0]=o=>l.search=o),label:"Search Warehouses","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"",onInput:i.onSearch},null,8,["modelValue","onInput"])]),_:1})]),_:1}),s(f,null,{default:a(()=>[s(C,{class:"d-flex justify-space-between align-center"},{default:a(()=>[e[12]||(e[12]=t("span",null,"Warehouses",-1)),t("span",Ue,[e[11]||(e[11]=r(" Total Records: ")),t("strong",null,m((l.pagination.total||0).toLocaleString()),1)])]),_:1,__:[12]}),s(F,null,{default:a(()=>[s(V,null,{default:a(()=>[t("thead",null,[t("tr",null,[t("th",{class:"sortable",onClick:e[1]||(e[1]=o=>l.onSort("name"))},[t("div",Be,[e[14]||(e[14]=t("span",null,"Name",-1)),l.sortBy==="name"?(d(),c(p,{key:0,size:"18",class:"sort-icon active"},{default:a(()=>[r(m(l.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(d(),c(p,{key:1,size:"18",class:"sort-icon inactive"},{default:a(()=>e[13]||(e[13]=[r(" mdi-unfold-more-horizontal ")])),_:1,__:[13]}))])]),t("th",{class:"sortable",onClick:e[2]||(e[2]=o=>l.onSort("code"))},[t("div",Ae,[e[16]||(e[16]=t("span",null,"Code",-1)),l.sortBy==="code"?(d(),c(p,{key:0,size:"18",class:"sort-icon active"},{default:a(()=>[r(m(l.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(d(),c(p,{key:1,size:"18",class:"sort-icon inactive"},{default:a(()=>e[15]||(e[15]=[r(" mdi-unfold-more-horizontal ")])),_:1,__:[15]}))])]),t("th",{class:"sortable",onClick:e[3]||(e[3]=o=>l.onSort("city"))},[t("div",Ie,[e[18]||(e[18]=t("span",null,"City",-1)),l.sortBy==="city"?(d(),c(p,{key:0,size:"18",class:"sort-icon active"},{default:a(()=>[r(m(l.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(d(),c(p,{key:1,size:"18",class:"sort-icon inactive"},{default:a(()=>e[17]||(e[17]=[r(" mdi-unfold-more-horizontal ")])),_:1,__:[17]}))])]),e[21]||(e[21]=t("th",null,"Phone",-1)),e[22]||(e[22]=t("th",null,"Status",-1)),t("th",{class:"sortable",onClick:e[4]||(e[4]=o=>l.onSort("created_at"))},[t("div",Ee,[e[20]||(e[20]=t("span",null,"Created",-1)),l.sortBy==="created_at"?(d(),c(p,{key:0,size:"18",class:"sort-icon active"},{default:a(()=>[r(m(l.sortDirection==="asc"?"mdi-arrow-up":"mdi-arrow-down"),1)]),_:1})):(d(),c(p,{key:1,size:"18",class:"sort-icon inactive"},{default:a(()=>e[19]||(e[19]=[r(" mdi-unfold-more-horizontal ")])),_:1,__:[19]}))])]),e[23]||(e[23]=t("th",null,"Actions",-1))])]),t("tbody",null,[l.loading?(d(),h(U,{key:0},I(5,o=>t("tr",{key:`skeleton-${o}`},[t("td",null,[s(g,{type:"text",width:"150"})]),t("td",null,[s(g,{type:"text",width:"120"})]),t("td",null,[s(g,{type:"text",width:"100"})]),t("td",null,[s(g,{type:"text",width:"100"})]),t("td",null,[s(g,{type:"chip",width:"80",height:"24"})]),t("td",null,[s(g,{type:"text",width:"100"})]),t("td",null,[t("div",Ne,[s(g,{type:"button",width:"32",height:"32",class:"mr-1"}),s(g,{type:"button",width:"32",height:"32",class:"mr-1"}),s(g,{type:"button",width:"32",height:"32"})])])])),64)):(d(),h(U,{key:1},[(d(!0),h(U,null,I(u.warehouses,o=>(d(),h("tr",{key:o.id},[t("td",null,m(o.name),1),t("td",null,[o.code?(d(),c(b,{key:0,size:"small",variant:"outlined"},{default:a(()=>[r(m(o.code),1)]),_:2},1024)):(d(),h("span",je,"-"))]),t("td",null,m(o.city||"-"),1),t("td",null,m(o.phone||"-"),1),t("td",null,[s(b,{color:o.is_active?"success":"error",size:"small"},{default:a(()=>[r(m(o.is_active?"Active":"Inactive"),1)]),_:2},1032,["color"])]),t("td",null,m(l.formatDate(o.created_at)),1),t("td",null,[s(x,{size:"small",icon:"mdi-eye",onClick:A=>i.viewWarehouse(o),variant:"text",color:"info",title:"View Warehouse Details"},null,8,["onClick"]),s(x,{size:"small",icon:"mdi-pencil",onClick:A=>i.editWarehouse(o),variant:"text",title:"Edit Warehouse"},null,8,["onClick"]),s(x,{size:"small",icon:"mdi-delete",onClick:A=>i.confirmDelete(o),variant:"text",color:"error",title:"Delete Warehouse"},null,8,["onClick"])])]))),128)),u.warehouses.length===0?(d(),h("tr",Le,e[24]||(e[24]=[t("td",{colspan:"7",class:"text-center py-4"},"No warehouses found",-1)]))):y("",!0)],64))])]),_:1}),t("div",Te,[t("div",qe,[u.warehouses.length>0&&l.pagination.total>0?(d(),h("span",Re,[l.perPage==="all"?(d(),h("span",Me,[e[25]||(e[25]=r(" Showing ")),t("strong",null,"all "+m(l.pagination.total.toLocaleString()),1),e[26]||(e[26]=r(" records "))])):(d(),h("span",Oe,[e[27]||(e[27]=r(" Showing ")),t("strong",null,m((l.currentPage-1)*l.perPage+1),1),e[28]||(e[28]=r(" to ")),t("strong",null,m(Math.min(l.currentPage*l.perPage,l.pagination.total).toLocaleString()),1),e[29]||(e[29]=r(" of ")),t("strong",null,m(l.pagination.total.toLocaleString()),1),e[30]||(e[30]=r(" records "))]))])):(d(),h("span",Ye,"No records found"))]),s(k,{modelValue:l.currentPage,"onUpdate:modelValue":e[5]||(e[5]=o=>l.currentPage=o),pagination:l.pagination,"per-page-value":l.perPage,"per-page-options":l.perPageOptions,"onUpdate:perPage":l.onPerPageUpdate,onPageChange:i.onPageChange},null,8,["modelValue","pagination","per-page-value","per-page-options","onUpdate:perPage","onPageChange"])])]),_:1})]),_:1}),s(S,{modelValue:u.dialog,"onUpdate:modelValue":e[6]||(e[6]=o=>u.dialog=o),warehouse:u.selectedWarehouse,saving:u.saving,onSave:i.handleSave},null,8,["modelValue","warehouse","saving","onSave"]),s(P,{modelValue:u.viewDialog,"onUpdate:modelValue":e[7]||(e[7]=o=>u.viewDialog=o),warehouse:u.selectedWarehouse},null,8,["modelValue","warehouse"])]),_:1})}const Xe=B(Pe,[["render",Ge],["__scopeId","data-v-f6179d42"]]);export{Xe as default};
