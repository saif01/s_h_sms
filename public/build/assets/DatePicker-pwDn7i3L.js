import{_ as p,d as V,w as s,a as u,r as o,m as f,o as g}from"./app-CYStQJ0f.js";const S={name:"DatePicker",props:{modelValue:{type:[String,Date],default:null},label:{type:String,default:"Date"},rules:{type:Array,default:()=>[]},required:{type:Boolean,default:!1},fieldClass:{type:String,default:""},density:{type:String,default:"default"},variant:{type:String,default:"outlined"}},emits:["update:modelValue"],data(){return{dateMenu:!1}},computed:{formattedDate(){if(!this.modelValue)return"";try{let e;if(typeof this.modelValue=="string")/^\d{4}-\d{2}-\d{2}$/.test(this.modelValue)?e=this.modelValue:this.modelValue.includes("T")?e=this.modelValue.split("T")[0]:e=this.modelValue;else{const d=this.modelValue.getFullYear(),r=String(this.modelValue.getMonth()+1).padStart(2,"0"),n=String(this.modelValue.getDate()).padStart(2,"0");e=`${d}-${r}-${n}`}const[t,a,l]=e.split("-").map(Number);return isNaN(t)||isNaN(a)||isNaN(l)?this.modelValue:`${String(l).padStart(2,"0")}/${String(a).padStart(2,"0")}/${t}`}catch{return this.modelValue}},datePickerValue(){if(!this.modelValue)return null;try{let e;if(typeof this.modelValue=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(this.modelValue))return this.modelValue;this.modelValue.includes("T")?e=this.modelValue.split("T")[0]:e=this.modelValue}else{const t=this.modelValue.getFullYear(),a=String(this.modelValue.getMonth()+1).padStart(2,"0"),l=String(this.modelValue.getDate()).padStart(2,"0");e=`${t}-${a}-${l}`}return/^\d{4}-\d{2}-\d{2}$/.test(e)?e:this.modelValue}catch{return this.modelValue}}},methods:{onDateSelected(e){if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))this.$emit("update:modelValue",String(e));else if(e)try{if(typeof e=="string"&&e.includes("T")){const t=e.split("T")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(t))this.$emit("update:modelValue",t);else{const a=new Date(e),l=a.getFullYear(),d=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");this.$emit("update:modelValue",`${l}-${d}-${r}`)}}else{const t=new Date(e),a=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),d=String(t.getDate()).padStart(2,"0");this.$emit("update:modelValue",`${a}-${l}-${d}`)}}catch{this.$emit("update:modelValue",e)}else this.$emit("update:modelValue",null);this.dateMenu=!1},clearDate(){this.$emit("update:modelValue",null)}}};function y(e,t,a,l,d,r){const n=o("v-text-field"),m=o("v-date-picker"),c=o("v-menu");return g(),V(c,{modelValue:d.dateMenu,"onUpdate:modelValue":t[1]||(t[1]=i=>d.dateMenu=i),"close-on-content-click":!1,location:"bottom",transition:"scale-transition"},{activator:s(({props:i})=>[u(n,f({"model-value":r.formattedDate,label:a.label,readonly:""},i,{rules:a.rules,required:a.required,class:a.fieldClass,"prepend-inner-icon":"mdi-calendar",density:a.density,variant:a.variant,clearable:"","onClick:clear":r.clearDate,"onUpdate:modelValue":t[0]||(t[0]=h=>e.$emit("update:modelValue",h))}),null,16,["model-value","label","rules","required","class","density","variant","onClick:clear"])]),default:s(()=>[u(m,{"model-value":r.datePickerValue,"onUpdate:modelValue":r.onDateSelected,color:"primary","show-adjacent-months":"","hide-header":""},null,8,["model-value","onUpdate:modelValue"])]),_:1},8,["modelValue"])}const _=p(S,[["render",y],["__scopeId","data-v-c69c332a"]]);export{_ as D};
